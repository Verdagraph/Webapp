import{t as h,a as r,b as k,c as L}from"../chunks/Boh5s-Fb.js";import{p as Y,c as le,f as n,s as m,g as y,a3 as ne,h as v,r as ie,a as Z,e as N,$ as de,b as K,d as Q,t as me}from"../chunks/BwwL9Z8J.js";import{s as ue}from"../chunks/Dzkt4xrc.js";import{c as e}from"../chunks/xbTnOFg-.js";import{h as ce}from"../chunks/CklQGOQz.js";import{s as fe,z as W,d as pe,F as $e,C as _e,a as ve,c as he,e as ge,b as Pe,I as xe}from"../chunks/0WiqFhNr.js";import{p as X,c as be,s as Ce,a as Ee,b as De}from"../chunks/BhVVFR9O.js";import{d as M}from"../chunks/BW1rn0Jz.js";import{c as Fe}from"../chunks/CeF6ml9f.js";import"../chunks/CR0Tndyg.js";import"../chunks/BPielWKn.js";import{l as Re}from"../chunks/Bn6OaK2A.js";import{a as Se,b as we,c as ye,C as ke}from"../chunks/DC94Memm.js";import{R as qe,D as Ie,a as ze,b as Ae,c as Be}from"../chunks/HdKM0uGO.js";import{B as He}from"../chunks/BuUf1eRg.js";import{e as Le}from"../chunks/BferRts4.js";var Oe=h("<!> <!>",1),Ve=h("<!> <!>",1),Te=h('<form method="POST" autocomplete="off"><!> <!></form>');function Ue(O,g){Y(g,!0);const[u,P]=be(),c=()=>De(T,"$formData",u);let V=X(g,"succeeded",15,!1),q=X(g,"registeredEmail",15,""),f=Fe(M.mutation,{onSuccess:()=>{V(!0)}});const I=fe(pe(W(M.schema)),{SPA:!0,validators:W(M.schema),onUpdate({form:t}){t.valid&&(q(t.data.email),f.execute(t.data))},onChange(){f.reset()}}),{form:T,enhance:p}=I;var i=Te(),x=le(i);e(x,()=>$e,(t,l)=>{l(t,{form:I,name:"email",children:(o,z)=>{var a=Ve(),$=n(a);e($,()=>_e,(s,E)=>{E(s,{children:(j,F)=>{let G=()=>F==null?void 0:F().props;var A=Oe(),J=n(A);e(J,()=>Pe,(_,R)=>{R(_,{get description(){return Re.emailSchema.description},children:(d,H)=>{v();var S=k("Email");r(d,S)},$$slots:{default:!0}})});var B=m(J,2);e(B,()=>xe,(_,R)=>{R(_,Ce(G,{type:"email",placeholder:"email@example.com",get value(){return c().email},set value(d){Ee(T,N(c).email=d,N(c))}}))}),r(j,A)},$$slots:{default:!0}})});var b=m($,2);const C=ne(()=>{var s;return(s=f.fieldErrors)==null?void 0:s.email});e(b,()=>ve,(s,E)=>{E(s,{get handlerErrors(){return y(C)}})}),r(o,a)},$$slots:{default:!0}})});var U=m(x,2);e(U,()=>he,(t,l)=>{l(t,{disabled:!1,get loading(){return f.isLoading},variant:"default",class:"mt-4 w-full",children:(o,z)=>{v();var a=k("Submit");r(o,a)},$$slots:{default:!0}})}),ie(i),ge(i,t=>p==null?void 0:p(t)),r(O,i),Z(),P()}var je=h("If the email remains unsent, <!>",1),Ge=h("<!> <!>",1),Je=h("<!> <!> <!>",1);function dt(O,g){Y(g,!0);let u=Q(!1),P=Q("");var c=L();ce(q=>{de.title="Verify Email - Verdagraph"});var V=n(c);e(V,()=>ke,(q,f)=>{f(q,{class:"m-auto mt-12 w-3/4 md:w-1/2 lg:w-1/3",children:(I,T)=>{var p=Je(),i=n(p);e(i,()=>Se,(t,l)=>{l(t,{children:(o,z)=>{var a=L(),$=n(a);e($,()=>we,(b,C)=>{C(b,{children:(s,E)=>{v();var D=k("Request an email confirmation");r(s,D)},$$slots:{default:!0}})}),r(o,a)},$$slots:{default:!0}})});var x=m(i,2);e(x,()=>ye,(t,l)=>{l(t,{children:(o,z)=>{Ue(o,{get succeeded(){return y(u)},set succeeded(a){K(u,a,!0)},get registeredEmail(){return y(P)},set registeredEmail(a){K(P,a,!0)}})},$$slots:{default:!0}})});var U=m(x,2);e(U,()=>qe,(t,l)=>{l(t,{get open(){return y(u)},onOpenChange:o=>{o||K(u,!1)},children:(o,z)=>{var a=L(),$=n(a);e($,()=>Ie,(b,C)=>{C(b,{children:(s,E)=>{var D=L(),j=n(D);e(j,()=>ze,(F,G)=>{G(F,{children:(A,J)=>{var B=Ge(),_=n(B);e(_,()=>Ae,(d,H)=>{H(d,{children:(S,ee)=>{v();var w=k();me(()=>ue(w,`An email confirmation has been sent to ${y(P)??""}`)),r(S,w)},$$slots:{default:!0}})});var R=m(_,2);e(R,()=>Be,(d,H)=>{H(d,{children:(S,ee)=>{v();var w=je(),te=m(n(w));e(te,()=>He,(re,ae)=>{ae(re,{variant:"link",class:"text-neutral-11 inline p-0",get href(){return Le.discord},children:(oe,Ke)=>{v();var se=k("try reaching out to our community.");r(oe,se)},$$slots:{default:!0}})}),r(S,w)},$$slots:{default:!0}})}),r(A,B)},$$slots:{default:!0}})}),r(s,D)},$$slots:{default:!0}})}),r(o,a)},$$slots:{default:!0}})}),r(I,p)},$$slots:{default:!0}})}),r(O,c),Z()}export{dt as component};
