import{t as g,a as t,b as S,c as K}from"../chunks/Boh5s-Fb.js";import{p as ce,c as _e,f as p,s as u,g as q,a3 as M,h as b,r as fe,a as ve,e as I,$ as $e,b as oe,d as le,t as he}from"../chunks/BwwL9Z8J.js";import{s as ge}from"../chunks/Dzkt4xrc.js";import{c as e}from"../chunks/xbTnOFg-.js";import{h as Pe}from"../chunks/CklQGOQz.js";import{s as xe,z as ne,d as we,F as N,C as Q,a as W,c as Ce,e as Ee,b as X,I as Y}from"../chunks/0WiqFhNr.js";import{p as de,c as be,s as Z,a as ee,b as De}from"../chunks/BhVVFR9O.js";import{c as se}from"../chunks/BW1rn0Jz.js";import{c as Fe}from"../chunks/CeF6ml9f.js";import"../chunks/CR0Tndyg.js";import"../chunks/BPielWKn.js";import{l as re}from"../chunks/Bn6OaK2A.js";import{a as Se,b as ye,c as ke,C as Re}from"../chunks/DC94Memm.js";import{C as Ae}from"../chunks/Cc304HSB.js";import{B as ie}from"../chunks/BuUf1eRg.js";import{R as Ie,D as qe,a as ze,b as Be,c as He}from"../chunks/HdKM0uGO.js";var Ue=g("<!> <!>",1),Le=g("<!> <!>",1),Oe=g("<!> <!>",1),Te=g("<!> <!>",1),Ve=g("<!> <!>",1),je=g("<!> <!>",1),Ge=g("<!> <!>",1),Je=g("<!> <!>",1),Ke=g('<form method="POST" autocomplete="off"><!> <!> <!> <!> <!></form>');function Me(te,z){ce(z,!0);const[O,V]=be(),_=()=>De(y,"$formData",O);let j=de(z,"succeeded",15,!1),ae=de(z,"registeredEmail",15,""),D=Fe(se.mutation,{onSuccess:()=>{j(!0)}});const U=xe(we(ne(se.schema)),{SPA:!0,validators:ne(se.schema),onUpdate({form:a}){a.valid&&(ae(a.data.email),D.execute(a.data))},onChange(){D.reset()}}),{form:y,enhance:L}=U;var B=Ke(),G=_e(B);e(G,()=>N,(a,f)=>{f(a,{form:U,name:"username",children:($,C)=>{var o=Le(),m=p(o);e(m,()=>Q,(r,l)=>{l(r,{children:(E,n)=>{let x=()=>n==null?void 0:n().props;var h=Ue(),c=p(h);e(c,()=>X,(d,i)=>{i(d,{get description(){return re.usernameSchema.description},children:(s,T)=>{b();var F=S("Username");t(s,F)},$$slots:{default:!0}})});var w=u(c,2);e(w,()=>Y,(d,i)=>{i(d,Z(x,{type:"text",placeholder:"username",get value(){return _().username},set value(s){ee(y,I(_).username=s,I(_))}}))}),t(E,h)},$$slots:{default:!0}})});var P=u(m,2);const v=M(()=>{var r;return(r=D.fieldErrors)==null?void 0:r.username});e(P,()=>W,(r,l)=>{l(r,{get handlerErrors(){return q(v)}})}),t($,o)},$$slots:{default:!0}})});var k=u(G,2);e(k,()=>N,(a,f)=>{f(a,{form:U,name:"email",children:($,C)=>{var o=Te(),m=p(o);e(m,()=>Q,(r,l)=>{l(r,{children:(E,n)=>{let x=()=>n==null?void 0:n().props;var h=Oe(),c=p(h);e(c,()=>X,(d,i)=>{i(d,{get description(){return re.emailSchema.description},children:(s,T)=>{b();var F=S("Email");t(s,F)},$$slots:{default:!0}})});var w=u(c,2);e(w,()=>Y,(d,i)=>{i(d,Z(x,{type:"email",placeholder:"email@example.com",get value(){return _().email},set value(s){ee(y,I(_).email=s,I(_))}}))}),t(E,h)},$$slots:{default:!0}})});var P=u(m,2);const v=M(()=>{var r;return(r=D.fieldErrors)==null?void 0:r.email});e(P,()=>W,(r,l)=>{l(r,{get handlerErrors(){return q(v)}})}),t($,o)},$$slots:{default:!0}})});var R=u(k,2);e(R,()=>N,(a,f)=>{f(a,{form:U,name:"password1",children:($,C)=>{var o=je(),m=p(o);e(m,()=>Q,(r,l)=>{l(r,{children:(E,n)=>{let x=()=>n==null?void 0:n().props;var h=Ve(),c=p(h);e(c,()=>X,(d,i)=>{i(d,{get description(){return re.passwordSchema.description},children:(s,T)=>{b();var F=S("Password");t(s,F)},$$slots:{default:!0}})});var w=u(c,2);e(w,()=>Y,(d,i)=>{i(d,Z(x,{type:"password",get value(){return _().password1},set value(s){ee(y,I(_).password1=s,I(_))}}))}),t(E,h)},$$slots:{default:!0}})});var P=u(m,2);const v=M(()=>{var r;return(r=D.fieldErrors)==null?void 0:r.password1});e(P,()=>W,(r,l)=>{l(r,{get handlerErrors(){return q(v)}})}),t($,o)},$$slots:{default:!0}})});var A=u(R,2);e(A,()=>N,(a,f)=>{f(a,{form:U,name:"password2",children:($,C)=>{var o=Je(),m=p(o);e(m,()=>Q,(r,l)=>{l(r,{children:(E,n)=>{let x=()=>n==null?void 0:n().props;var h=Ge(),c=p(h);e(c,()=>X,(d,i)=>{i(d,{get description(){return re.passwordSchema.description},children:(s,T)=>{b();var F=S("Confirm Password");t(s,F)},$$slots:{default:!0}})});var w=u(c,2);e(w,()=>Y,(d,i)=>{i(d,Z(x,{type:"password",get value(){return _().password2},set value(s){ee(y,I(_).password2=s,I(_))}}))}),t(E,h)},$$slots:{default:!0}})});var P=u(m,2);const v=M(()=>{var r;return(r=D.fieldErrors)==null?void 0:r.password2});e(P,()=>W,(r,l)=>{l(r,{get handlerErrors(){return q(v)}})}),t($,o)},$$slots:{default:!0}})});var J=u(A,2);e(J,()=>Ce,(a,f)=>{f(a,{disabled:!1,get loading(){return D.isLoading},variant:"default",class:"mt-4 w-full",children:($,C)=>{b();var o=S("Submit");t($,o)},$$slots:{default:!0}})}),fe(B),Ee(B,a=>L==null?void 0:L(a)),t(te,B),ve(),V()}var Ne=g("<!> <!>",1),Qe=g("If you don't receive it, <!>",1),We=g("<!> <!>",1),Xe=g("<!> <!> <!>",1);function fr(te){let z=le(!1),O=le("");var V=K();Pe(j=>{$e.title="Register - Verdagraph"});var _=p(V);e(_,()=>Re,(j,ae)=>{ae(j,{class:"m-auto mt-12 w-3/4 md:w-1/2 lg:w-1/3",children:(D,U)=>{var y=Xe(),L=p(y);e(L,()=>Se,(k,R)=>{R(k,{children:(A,J)=>{var a=Ne(),f=p(a);e(f,()=>ye,(C,o)=>{o(C,{children:(m,P)=>{b();var v=S("Create an account");t(m,v)},$$slots:{default:!0}})});var $=u(f,2);e($,()=>Ae,(C,o)=>{o(C,{children:(m,P)=>{var v=K(),r=p(v);e(r,()=>ie,(l,H)=>{H(l,{variant:"link",class:"text-neutral-11 p-0",href:"/login",children:(E,n)=>{b();var x=S("Already have one?");t(E,x)},$$slots:{default:!0}})}),t(m,v)},$$slots:{default:!0}})}),t(A,a)},$$slots:{default:!0}})});var B=u(L,2);e(B,()=>ke,(k,R)=>{R(k,{children:(A,J)=>{Me(A,{get succeeded(){return q(z)},set succeeded(a){oe(z,a,!0)},get registeredEmail(){return q(O)},set registeredEmail(a){oe(O,a,!0)}})},$$slots:{default:!0}})});var G=u(B,2);e(G,()=>Ie,(k,R)=>{R(k,{get open(){return q(z)},children:(A,J)=>{var a=K(),f=p(a);e(f,()=>qe,($,C)=>{C($,{children:(o,m)=>{var P=K(),v=p(P);e(v,()=>ze,(r,l)=>{l(r,{children:(H,E)=>{var n=We(),x=p(n);e(x,()=>Be,(c,w)=>{w(c,{children:(d,i)=>{b();var s=S();he(()=>ge(s,`An email confirmation has been sent to ${q(O)??""}`)),t(d,s)},$$slots:{default:!0}})});var h=u(x,2);e(h,()=>He,(c,w)=>{w(c,{children:(d,i)=>{b();var s=Qe(),T=u(p(s));e(T,()=>ie,(F,ue)=>{ue(F,{variant:"link",class:"text-neutral-11 p-0",href:"/register/request-email-verification",children:(me,Ye)=>{b();var pe=S("request another through this link.");t(me,pe)},$$slots:{default:!0}})}),t(d,s)},$$slots:{default:!0}})}),t(H,n)},$$slots:{default:!0}})}),t(o,P)},$$slots:{default:!0}})}),t(A,a)},$$slots:{default:!0}})}),t(D,y)},$$slots:{default:!0}})}),t(te,V)}export{fr as component};
