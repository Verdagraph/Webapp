import{t as M,a,b as I,c as N}from"../chunks/Boh5s-Fb.js";import"../chunks/CR0Tndyg.js";import{p as ie,f as P,c as i,r as s,s as u,t as J,a as oe,g as K,a3 as be,$ as Qe,h as he,n as _e,Z as Se}from"../chunks/BwwL9Z8J.js";import{s as j}from"../chunks/Dzkt4xrc.js";import{i as d}from"../chunks/BhVVFR9O.js";import{h as $e}from"../chunks/CklQGOQz.js";import{i as Ae}from"../chunks/C3lYwGCc.js";import{g as Ee}from"../chunks/BPielWKn.js";import{f as je,a as Ce,e as De,v as Le,b as Re}from"../chunks/4j4wuK16.js";import{t as T,m as Te}from"../chunks/Bn6OaK2A.js";import{I as V}from"../chunks/C8rKVFp6.js";import{u as H}from"../chunks/BkmEaUt_.js";import{a as z,e as we,i as ye}from"../chunks/kQuJ39Np.js";import{c as B}from"../chunks/xbTnOFg-.js";import{u as He,g as Ve,a as ze}from"../chunks/BgRQtquu.js";import{c as xe}from"../chunks/CeF6ml9f.js";import{B as q}from"../chunks/BuUf1eRg.js";import{S as Ie}from"../chunks/DMB8o5a9.js";import{S as Pe}from"../chunks/DwM7tovx.js";import{R as Be,T as qe,P as Fe}from"../chunks/BDR0CBNG.js";var Ze=M("<i>unknown</i>"),Je=M('<li class="flex flex-row"><div class="mr-8 flex flex-col"><div class="mb-4 flex max-w-64 flex-col overflow-hidden text-wrap"><span class="mb-1 break-words font-semibold"> </span> <span class="bg-primary-3 text-primary-11 w-fit break-all rounded-md p-1 text-sm italic"> </span></div> <div class="my-0.5"><span class="text-neutral-11 text-sm">Invited by:</span> <span class="bg-neutral-4 text-neutral-11 rounded-lg p-1 text-sm italic"><!></span></div> <div class="my-0.5"><span class="text-neutral-11 text-sm">Role:</span> <span class="text-neutral-11 text-sm italic"> </span></div></div> <div class="flex flex-col justify-evenly"><!> <!></div></li> <li class="mb-4 mt-2 last:hidden"><!></li>',1);function Ke(G,n){ie(n,!0);let o=H(T,He.Vars({profileIds:[n.invite.inviterId]}));const x=xe(Ve.mutation),y=xe(ze.mutation);var b=Je(),v=P(b),w=i(v),m=i(w),p=i(m),h=i(p,!0);s(p);var Q=u(p,2),A=i(Q,!0);s(Q),s(m);var C=u(m,2),F=u(i(C),2),ve=i(F);{var O=g=>{var k=I("?");a(g,k)},U=(g,k)=>{{var D=t=>{var f=Ze();a(t,f)},e=(t,f)=>{{var _=r=>{var l=I();J(()=>j(l,o.results[0].username)),a(r,l)};d(t,r=>{o.results&&r(_)},f)}};d(g,t=>{o.error?t(D):t(e,!1)},k)}};d(ve,g=>{o.fetching?g(O):g(U,!1)})}s(F),s(C);var W=u(C,2),X=u(i(W),2),Y=i(X,!0);s(X),s(W),s(w);var ee=u(w,2),re=i(ee);B(re,()=>q,(g,k)=>{k(g,{variant:"default",onclick:()=>{x.execute({gardenId:n.invite.gardenId})},children:(D,e)=>{V(D,{get icon(){return z.gardenInviteAcceptIcon},width:"1.5rem"})},$$slots:{default:!0}})});var ae=u(re,2);B(ae,()=>q,(g,k)=>{k(g,{variant:"destructive",onclick:()=>{y.execute({gardenId:n.invite.gardenId})},children:(D,e)=>{V(D,{width:"1.5rem",get icon(){return z.gardenInviteRejectIcon}})},$$slots:{default:!0}})}),s(ee),s(v);var te=u(v,2),de=i(te);B(de,()=>Ie,(g,k)=>{k(g,{class:"bg-neutral-5 w-full"})}),s(te),J(()=>{var g;j(h,((g=n.invite.garden)==null?void 0:g.name)??"Error - garden not found."),j(A,n.invite.gardenId),j(Y,n.invite.role)}),a(G,b),oe()}var Ne=M('<ul class="p-4"></ul>');function Oe(G,n){ie(n,!0);var o=N(),x=P(o);const y=be(()=>n.invites.length>1?"h-96":"h-48");B(x,()=>Pe,(b,v)=>{v(b,{type:"auto",orientation:"vertical",get class(){return`w-auto ${K(y)??""}`},children:(w,m)=>{var p=Ne();we(p,21,()=>n.invites,ye,(h,Q)=>{Ke(h,{get invite(){return K(Q)}})}),s(p),a(w,p)},$$slots:{default:!0}})}),a(G,o),oe()}var Ue=M('<p class="h-auto max-h-32 w-full max-w-full overflow-hidden text-wrap"> </p> <span class="bg-primary-3 text-primary-11 max-w-full truncate rounded-md p-1 text-sm italic"> </span>',1);function We(G,n){ie(n,!0);var o=N(),x=P(o);const y=be(()=>`gardens/${n.garden.id}`);B(x,()=>q,(b,v)=>{v(b,{variant:"outline",get href(){return K(y)},class:"bg-neutral-2 hover:bg-neutral-3 mx-4 flex h-48 w-64 flex-col justify-around text-xl",children:(w,m)=>{var p=Ue(),h=P(p),Q=i(h,!0);s(h);var A=u(h,2),C=i(A,!0);s(A),J(()=>{j(Q,n.garden.name),j(C,n.garden.id)}),a(w,p)},$$slots:{default:!0}})}),a(G,o),oe()}var Xe=M('<div class="flex flex-row"></div>');function Ye(G,n){var o=N(),x=P(o);B(x,()=>Pe,(y,b)=>{b(y,{type:"auto",orientation:"horizontal",class:"mt-8 h-auto w-full pb-4",children:(v,w)=>{var m=Xe();we(m,21,()=>n.gardens,ye,(p,h)=>{We(p,{get garden(){return K(h)}})}),s(m),a(v,m)},$$slots:{default:!0}})}),a(G,o)}const le=(G,n=_e,o=_e)=>{var x=N(),y=P(x);{var b=v=>{var w=er(),m=i(w),p=i(m,!0);s(m);var h=u(m,2);Ye(h,{get gardens(){return o()}});var Q=u(h,2);Ie(Q,{class:"bg-neutral-7 mb-4 mt-12 w-full"}),s(w),J(()=>j(p,n())),a(v,w)};d(y,v=>{o().length>0&&v(b)})}a(G,x)};var er=M('<div><span class="text-xl"> </span> <!> <!></div>'),rr=M('<!> <span class="mx-2 hidden sm:block">Discovery</span>',1),ar=M('<!> <span class="mx-2 hidden sm:block">Invites</span> <div class="border-neutral-9 h-6 w-6 rounded-2xl border"><!></div>',1),tr=M("<!> <!>",1),sr=M('<!> <span class="mx-2 hidden sm:block">Create</span>',1),nr=M('<div class="border-neutral-5 bg-neutral-1 sticky top-0 z-50 flex h-10 w-full flex-row items-center justify-between overflow-hidden border-b"><span class="ml-8">Gardens</span> <ul class="flex h-full flex-row items-center"><li class="h-full"><!></li> <li class="h-full"><!></li> <li class="h-full"><!></li></ul></div>  <div class="bg-neutral-1 h-full w-full p-8"><!> <!> <!> <!></div>',1);function kr(G,n){ie(n,!1),Te.isAuthenticated||Ee("gardens/discover");let o=H(T,je),x=H(T,Ce),y=H(T,De),b=H(T,Le),v=H(T,Re);Ae();var w=nr();$e(e=>{Qe.title="Gardens - Verdagraph"});var m=P(w),p=u(i(m),2),h=i(p),Q=i(h);q(Q,{variant:"ghost",href:"gardens/discover",class:"rounded-none",children:(e,t)=>{var f=rr(),_=P(f);V(_,{get icon(){return z.gardensDiscoverIcon},width:"1.5rem",class:"mx-2"}),he(2),a(e,f)},$$slots:{default:!0}}),s(h);var A=u(h,2),C=i(A);Be(C,{children:(e,t)=>{var f=tr(),_=P(f);qe(_,{children:(l,S)=>{q(l,{variant:"ghost",class:"rounded-none",children:(c,se)=>{var E=ar(),ne=P(E);V(ne,{get icon(){return z.gardensInviteIcon},width:"1.5rem",class:"mx-2"});var $=u(ne,4),fe=i($);{var ce=L=>{var ue=I("?");a(L,ue)},Z=(L,ue)=>{{var Ge=R=>{var me=I("?");a(R,me)},ke=(R,me)=>{{var Me=pe=>{var ge=I();J(()=>j(ge,v.results.length)),a(pe,ge)};d(R,pe=>{v.results&&pe(Me)},me)}};d(L,R=>{v.error?R(Ge):R(ke,!1)},ue)}};d(fe,L=>{v.fetching?L(ce):L(Z,!1)})}s($),a(c,E)},$$slots:{default:!0}})},$$slots:{default:!0}});var r=u(_,2);Fe(r,{children:(l,S)=>{var c=N(),se=P(c);{var E=$=>{V($,{get icon(){return z.defaultSpinnerIcon},width:"1.5rem",class:"animate-spin"})},ne=($,fe)=>{{var ce=Z=>{Oe(Z,{get invites(){return v.results}})};d($,Z=>{v.results&&Z(ce)},fe)}};d(se,$=>{v.fetching?$(E):$(ne,!1)})}a(l,c)},$$slots:{default:!0}}),a(e,f)},$$slots:{default:!0}}),s(A);var F=u(A,2),ve=i(F);q(ve,{variant:"default",href:"gardens/create",class:"rounded-none",children:(e,t)=>{var f=sr(),_=P(f);V(_,{get icon(){return z.gardensCreateIcon},width:"1.5rem",class:"mx-2"}),he(2),a(e,f)},$$slots:{default:!0}}),s(F),s(p),s(m);var O=u(m,2),U=i(O);{var W=e=>{var t=I("Loading...");a(e,t)},X=(e,t)=>{{var f=r=>{var l=I("Error!");a(r,l)},_=(r,l)=>{{var S=c=>{var se=Se(()=>o.results.map(E=>E.garden).filter(E=>E!=null));le(c,()=>"Favorites",()=>K(se))};d(r,c=>{o.results&&c(S)},l)}};d(e,r=>{o.error?r(f):r(_,!1)},t)}};d(U,e=>{o.fetching?e(W):e(X,!1)})}var Y=u(U,2);{var ee=e=>{var t=I("Loading...");a(e,t)},re=(e,t)=>{{var f=r=>{var l=I("Error!");a(r,l)},_=(r,l)=>{{var S=c=>{le(c,()=>"Admins",()=>x.results)};d(r,c=>{x.results&&c(S)},l)}};d(e,r=>{x.error?r(f):r(_,!1)},t)}};d(Y,e=>{x.fetching?e(ee):e(re,!1)})}var ae=u(Y,2);{var te=e=>{var t=I("Loading...");a(e,t)},de=(e,t)=>{{var f=r=>{var l=I("Error!");a(r,l)},_=(r,l)=>{{var S=c=>{le(c,()=>"Editors",()=>y.results)};d(r,c=>{y.results&&c(S)},l)}};d(e,r=>{y.error?r(f):r(_,!1)},t)}};d(ae,e=>{y.fetching?e(te):e(de,!1)})}var g=u(ae,2);{var k=e=>{var t=I("Loading...");a(e,t)},D=(e,t)=>{{var f=r=>{var l=I("Error!");a(r,l)},_=(r,l)=>{{var S=c=>{le(c,()=>"Viewers",()=>b.results)};d(r,c=>{b.results&&c(S)},l)}};d(e,r=>{b.error?r(f):r(_,!1)},t)}};d(g,e=>{b.fetching?e(k):e(D,!1)})}s(O),a(G,w),oe()}export{kr as component};
