import{t as M,a,b as I,c as O}from"../chunks/BLh5GmnI.js";import"../chunks/B-cjbRtE.js";import{p as ie,f as P,c as i,r as s,s as u,t as K,a as oe,g as N,a7 as be,$ as Qe,n as _e,P as he,a2 as Se}from"../chunks/DHe4-ApK.js";import{s as j}from"../chunks/DyNanOjA.js";import{i as d}from"../chunks/B_kr4MhJ.js";import{h as $e}from"../chunks/BWEqFMly.js";import{i as Ae}from"../chunks/CUNjRotx.js";import{I as V}from"../chunks/Dw6g7VJb.js";import{u as T}from"../chunks/DKTCaoP2.js";import{g as Ee}from"../chunks/Cqi9girw.js";import{f as je,a as Ce,e as De,v as Le,b as Re}from"../chunks/C6wLzGSB.js";import{t as H,m as Te}from"../chunks/Dk6orzBZ.js";import{a as z,e as we,i as ye}from"../chunks/C2bVma-z.js";import{c as B}from"../chunks/kXQwtSo-.js";import{u as He,g as Ve,a as ze}from"../chunks/Cks1JJCX.js";import{c as xe}from"../chunks/WYaP-8ZL.js";import{B as q}from"../chunks/BCOlZh0G.js";import{S as Ie}from"../chunks/Cw8KW7vD.js";import{S as Pe}from"../chunks/DnVoG7GS.js";import{R as Be,T as qe,P as Fe}from"../chunks/CzXzmWml.js";var Je=M("<i>unknown</i>"),Ke=M('<li class="flex flex-row"><div class="mr-8 flex flex-col"><div class="mb-4 flex max-w-64 flex-col overflow-hidden text-wrap"><span class="mb-1 break-words font-semibold"> </span> <span class="bg-primary-3 text-primary-11 w-fit break-all rounded-md p-1 text-sm italic"> </span></div> <div class="my-0.5"><span class="text-neutral-11 text-sm">Invited by:</span> <span class="bg-neutral-4 text-neutral-11 rounded-lg p-1 text-sm italic"><!></span></div> <div class="my-0.5"><span class="text-neutral-11 text-sm">Role:</span> <span class="text-neutral-11 text-sm italic"> </span></div></div> <div class="flex flex-col justify-evenly"><!> <!></div></li> <li class="mb-4 mt-2 last:hidden"><!></li>',1);function Ne(G,n){ie(n,!0);let o=T(H,He.Vars({profileIds:[n.invite.inviterId]}));const x=xe(Ve.mutation),y=xe(ze.mutation);var b=Ke(),v=P(b),w=i(v),m=i(w),p=i(m),_=i(p,!0);s(p);var Q=u(p,2),A=i(Q,!0);s(Q),s(m);var C=u(m,2),F=u(i(C),2),ve=i(F);{var U=g=>{var k=I("?");a(g,k)},W=(g,k)=>{{var D=t=>{var f=Je();a(t,f)},e=(t,f)=>{{var h=r=>{var l=I();K(()=>j(l,o.results[0].username)),a(r,l)};d(t,r=>{o.results&&r(h)},f)}};d(g,t=>{o.error?t(D):t(e,!1)},k)}};d(ve,g=>{o.fetching?g(U):g(W,!1)})}s(F),s(C);var X=u(C,2),Y=u(i(X),2),Z=i(Y,!0);s(Y),s(X),s(w);var ee=u(w,2),re=i(ee);B(re,()=>q,(g,k)=>{k(g,{variant:"default",onclick:()=>{x.execute({gardenId:n.invite.gardenId})},children:(D,e)=>{V(D,{get icon(){return z.gardenInviteAcceptIcon},width:"1.5rem"})},$$slots:{default:!0}})});var ae=u(re,2);B(ae,()=>q,(g,k)=>{k(g,{variant:"destructive",onclick:()=>{y.execute({gardenId:n.invite.gardenId})},children:(D,e)=>{V(D,{width:"1.5rem",get icon(){return z.gardenInviteRejectIcon}})},$$slots:{default:!0}})}),s(ee),s(v);var te=u(v,2),de=i(te);B(de,()=>Ie,(g,k)=>{k(g,{class:"bg-neutral-5 w-full"})}),s(te),K(()=>{var g;j(_,((g=n.invite.garden)==null?void 0:g.name)??"Error - garden not found."),j(A,n.invite.gardenId),j(Z,n.invite.role)}),a(G,b),oe()}var Oe=M('<ul class="p-4"></ul>');function Ue(G,n){ie(n,!0);var o=O(),x=P(o);const y=be(()=>n.invites.length>1?"h-96":"h-48");B(x,()=>Pe,(b,v)=>{v(b,{type:"auto",orientation:"vertical",get class(){return`w-auto ${N(y)??""}`},children:(w,m)=>{var p=Oe();we(p,21,()=>n.invites,ye,(_,Q)=>{Ne(_,{get invite(){return N(Q)}})}),s(p),a(w,p)},$$slots:{default:!0}})}),a(G,o),oe()}var We=M('<p class="h-auto max-h-32 w-full max-w-full overflow-hidden text-wrap"> </p> <span class="bg-primary-3 text-primary-11 max-w-full truncate rounded-md p-1 text-sm italic"> </span>',1);function Xe(G,n){ie(n,!0);var o=O(),x=P(o);const y=be(()=>`gardens/${n.garden.id}`);B(x,()=>q,(b,v)=>{v(b,{variant:"outline",get href(){return N(y)},class:"bg-neutral-2 hover:bg-neutral-3 mx-4 flex h-48 w-64 flex-col justify-around text-xl",children:(w,m)=>{var p=We(),_=P(p),Q=i(_,!0);s(_);var A=u(_,2),C=i(A,!0);s(A),K(()=>{j(Q,n.garden.name),j(C,n.garden.id)}),a(w,p)},$$slots:{default:!0}})}),a(G,o),oe()}var Ye=M('<div class="flex flex-row"></div>');function Ze(G,n){var o=O(),x=P(o);B(x,()=>Pe,(y,b)=>{b(y,{type:"auto",orientation:"horizontal",class:"mt-8 h-auto w-full pb-4",children:(v,w)=>{var m=Ye();we(m,21,()=>n.gardens,ye,(p,_)=>{Xe(p,{get garden(){return N(_)}})}),s(m),a(v,m)},$$slots:{default:!0}})}),a(G,o)}const le=(G,n=he,o=he)=>{var x=O(),y=P(x);{var b=v=>{var w=er(),m=i(w),p=i(m,!0);s(m);var _=u(m,2);Ze(_,{get gardens(){return o()}});var Q=u(_,2);Ie(Q,{class:"bg-neutral-7 mb-4 mt-12 w-full"}),s(w),K(()=>j(p,n())),a(v,w)};d(y,v=>{o().length>0&&v(b)})}a(G,x)};var er=M('<div><span class="text-xl"> </span> <!> <!></div>'),rr=M('<!> <span class="mx-2 hidden sm:block">Discovery</span>',1),ar=M('<!> <span class="mx-2 hidden sm:block">Invites</span> <div class="border-neutral-9 h-6 w-6 rounded-2xl border"><!></div>',1),tr=M("<!> <!>",1),sr=M('<!> <span class="mx-2 hidden sm:block">Create</span>',1),nr=M('<div class="border-neutral-5 bg-neutral-1 sticky top-0 z-50 flex h-10 w-full flex-row items-center justify-between overflow-hidden border-b"><span class="ml-8">Gardens</span> <ul class="flex h-full flex-row items-center"><li class="h-full"><!></li> <li class="h-full"><!></li> <li class="h-full"><!></li></ul></div>  <div class="bg-neutral-1 h-full w-full p-8"><!> <!> <!> <!></div>',1);function kr(G,n){ie(n,!1),Te.isAuthenticated||Ee("gardens/discover");let o=T(H,je),x=T(H,Ce),y=T(H,De),b=T(H,Le),v=T(H,Re);Ae();var w=nr();$e(e=>{Qe.title="Gardens - Verdagraph"});var m=P(w),p=u(i(m),2),_=i(p),Q=i(_);q(Q,{variant:"ghost",href:"gardens/discover",class:"rounded-none",children:(e,t)=>{var f=rr(),h=P(f);V(h,{get icon(){return z.gardensDiscoverIcon},width:"1.5rem",class:"mx-2"}),_e(2),a(e,f)},$$slots:{default:!0}}),s(_);var A=u(_,2),C=i(A);Be(C,{children:(e,t)=>{var f=tr(),h=P(f);qe(h,{children:(l,S)=>{q(l,{variant:"ghost",class:"rounded-none",children:(c,se)=>{var E=ar(),ne=P(E);V(ne,{get icon(){return z.gardensInviteIcon},width:"1.5rem",class:"mx-2"});var $=u(ne,4),fe=i($);{var ce=L=>{var ue=I("?");a(L,ue)},J=(L,ue)=>{{var Ge=R=>{var me=I("?");a(R,me)},ke=(R,me)=>{{var Me=pe=>{var ge=I();K(()=>j(ge,v.results.length)),a(pe,ge)};d(R,pe=>{v.results&&pe(Me)},me)}};d(L,R=>{v.error?R(Ge):R(ke,!1)},ue)}};d(fe,L=>{v.fetching?L(ce):L(J,!1)})}s($),a(c,E)},$$slots:{default:!0}})},$$slots:{default:!0}});var r=u(h,2);Fe(r,{children:(l,S)=>{var c=O(),se=P(c);{var E=$=>{V($,{get icon(){return z.defaultSpinnerIcon},width:"1.5rem",class:"animate-spin"})},ne=($,fe)=>{{var ce=J=>{Ue(J,{get invites(){return v.results}})};d($,J=>{v.results&&J(ce)},fe)}};d(se,$=>{v.fetching?$(E):$(ne,!1)})}a(l,c)},$$slots:{default:!0}}),a(e,f)},$$slots:{default:!0}}),s(A);var F=u(A,2),ve=i(F);q(ve,{variant:"default",href:"gardens/create",class:"rounded-none",children:(e,t)=>{var f=sr(),h=P(f);V(h,{get icon(){return z.gardensCreateIcon},width:"1.5rem",class:"mx-2"}),_e(2),a(e,f)},$$slots:{default:!0}}),s(F),s(p),s(m);var U=u(m,2),W=i(U);{var X=e=>{var t=I("Loading...");a(e,t)},Y=(e,t)=>{{var f=r=>{var l=I("Error!");a(r,l)},h=(r,l)=>{{var S=c=>{var se=Se(()=>o.results.map(E=>E.garden).filter(E=>E!=null));le(c,()=>"Favorites",()=>N(se))};d(r,c=>{o.results&&c(S)},l)}};d(e,r=>{o.error?r(f):r(h,!1)},t)}};d(W,e=>{o.fetching?e(X):e(Y,!1)})}var Z=u(W,2);{var ee=e=>{var t=I("Loading...");a(e,t)},re=(e,t)=>{{var f=r=>{var l=I("Error!");a(r,l)},h=(r,l)=>{{var S=c=>{le(c,()=>"Admins",()=>x.results)};d(r,c=>{x.results&&c(S)},l)}};d(e,r=>{x.error?r(f):r(h,!1)},t)}};d(Z,e=>{x.fetching?e(ee):e(re,!1)})}var ae=u(Z,2);{var te=e=>{var t=I("Loading...");a(e,t)},de=(e,t)=>{{var f=r=>{var l=I("Error!");a(r,l)},h=(r,l)=>{{var S=c=>{le(c,()=>"Editors",()=>y.results)};d(r,c=>{y.results&&c(S)},l)}};d(e,r=>{y.error?r(f):r(h,!1)},t)}};d(ae,e=>{y.fetching?e(te):e(de,!1)})}var g=u(ae,2);{var k=e=>{var t=I("Loading...");a(e,t)},D=(e,t)=>{{var f=r=>{var l=I("Error!");a(r,l)},h=(r,l)=>{{var S=c=>{le(c,()=>"Viewers",()=>b.results)};d(r,c=>{b.results&&c(S)},l)}};d(e,r=>{b.error?r(f):r(h,!1)},t)}};d(g,e=>{b.fetching?e(k):e(D,!1)})}s(U),a(G,w),oe()}export{kr as component};
