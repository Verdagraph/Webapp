import{t as C,a as e,b as z,c as A}from"../chunks/BLh5GmnI.js";import{p as pr,c as ir,f as l,s as f,g as U,a7 as M,n as B,r as ur,a as mr,e as O,$ as cr,b as fr,d as _r}from"../chunks/DHe4-ApK.js";import{h as $r}from"../chunks/BWEqFMly.js";import{c as r}from"../chunks/kXQwtSo-.js";import{s as vr,z as Q,d as hr,F as W,C as X,a as Y,c as gr,e as wr,b as Z,I as rr}from"../chunks/jh9C4nA6.js";import{p as Pr,c as br,s as er,a as sr,b as xr}from"../chunks/B_kr4MhJ.js";import"../chunks/B-cjbRtE.js";import"../chunks/Cqi9girw.js";import{l as tr}from"../chunks/Dk6orzBZ.js";import{p as or}from"../chunks/CAwYUMnN.js";import{b as J}from"../chunks/Hy63edcQ.js";import{c as Cr}from"../chunks/WYaP-8ZL.js";import{a as Dr,b as Fr,c as Sr,C as Rr}from"../chunks/CRK-z0ZK.js";import{R as kr,D as Er,a as Ir,b as yr,c as zr}from"../chunks/CXIjb_qR.js";import{B as Br}from"../chunks/BCOlZh0G.js";var Hr=C("<!> <!>",1),Lr=C("<!> <!>",1),Tr=C("<!> <!>",1),Ar=C("<!> <!>",1),Nr=C('<form method="POST" autocomplete="off"><!> <!> <!></form>');function Or(V,D){pr(D,!0);const[N,j]=br(),p=()=>xr(S,"$formData",N);let q=Pr(D,"succeeded",15,!1),w=Cr(J.mutation,{onSuccess:()=>{q(!0)}});const K={userId:or.params.userId,token:or.params.confirmationToken,password1:"",password2:""},F=vr(hr(K,Q(J.schema)),{SPA:!0,validators:Q(J.schema),onUpdate({form:t}){t.valid&&w.execute(t.data)},onChange(){w.reset()}}),{form:S,enhance:R}=F;var k=Nr(),_=ir(k);r(_,()=>W,(t,o)=>{o(t,{form:F,name:"password1",children:(i,E)=>{var a=Lr(),u=l(a);r(u,()=>X,(s,m)=>{m(s,{children:(L,h)=>{let I=()=>h==null?void 0:h().props;var g=Hr(),b=l(g);r(b,()=>Z,(d,n)=>{n(d,{get description(){return tr.passwordSchema.description},children:(c,y)=>{B();var T=z("New Password");e(c,T)},$$slots:{default:!0}})});var x=f(b,2);r(x,()=>rr,(d,n)=>{n(d,er(I,{type:"password",get value(){return p().password1},set value(c){sr(S,O(p).password1=c,O(p))}}))}),e(L,g)},$$slots:{default:!0}})});var H=f(u,2);const v=M(()=>{var s;return(s=w.fieldErrors)==null?void 0:s.password1});r(H,()=>Y,(s,m)=>{m(s,{get handlerErrors(){return U(v)}})}),e(i,a)},$$slots:{default:!0}})});var $=f(_,2);r($,()=>W,(t,o)=>{o(t,{form:F,name:"password2",children:(i,E)=>{var a=Ar(),u=l(a);r(u,()=>X,(s,m)=>{m(s,{children:(L,h)=>{let I=()=>h==null?void 0:h().props;var g=Tr(),b=l(g);r(b,()=>Z,(d,n)=>{n(d,{get description(){return tr.passwordSchema.description},children:(c,y)=>{B();var T=z("Confirm Password");e(c,T)},$$slots:{default:!0}})});var x=f(b,2);r(x,()=>rr,(d,n)=>{n(d,er(I,{type:"password",get value(){return p().password2},set value(c){sr(S,O(p).password2=c,O(p))}}))}),e(L,g)},$$slots:{default:!0}})});var H=f(u,2);const v=M(()=>{var s;return(s=w.fieldErrors)==null?void 0:s.password2});r(H,()=>Y,(s,m)=>{m(s,{get handlerErrors(){return U(v)}})}),e(i,a)},$$slots:{default:!0}})});var P=f($,2);r(P,()=>gr,(t,o)=>{o(t,{disabled:!1,get loading(){return w.isLoading},variant:"default",class:"mt-4 w-full",children:(i,E)=>{B();var a=z("Submit");e(i,a)},$$slots:{default:!0}})}),ur(k),wr(k,t=>R==null?void 0:R(t)),e(V,k),mr(),j()}var Ur=C("<!> <!>",1),Vr=C("<!> <!> <!>",1);function ae(V){let D=_r(!1);var N=A();$r(p=>{cr.title="Reset Password - Verdagraph"});var j=l(N);r(j,()=>Rr,(p,q)=>{q(p,{class:"m-auto mt-12 w-3/4 md:w-1/2 lg:w-1/3",children:(w,K)=>{var F=Vr(),S=l(F);r(S,()=>Dr,(_,$)=>{$(_,{children:(P,t)=>{var o=A(),i=l(o);r(i,()=>Fr,(E,a)=>{a(E,{children:(u,H)=>{B();var v=z("Choose a new password");e(u,v)},$$slots:{default:!0}})}),e(P,o)},$$slots:{default:!0}})});var R=f(S,2);r(R,()=>Sr,(_,$)=>{$(_,{children:(P,t)=>{Or(P,{get succeeded(){return U(D)},set succeeded(o){fr(D,o,!0)}})},$$slots:{default:!0}})});var k=f(R,2);r(k,()=>kr,(_,$)=>{$(_,{get open(){return U(D)},children:(P,t)=>{var o=A(),i=l(o);r(i,()=>Er,(E,a)=>{a(E,{children:(u,H)=>{var v=A(),s=l(v);r(s,()=>Ir,(m,G)=>{G(m,{children:(L,h)=>{var I=Ur(),g=l(I);r(g,()=>yr,(x,d)=>{d(x,{children:(n,c)=>{B();var y=z("Password has been successfully reset");e(n,y)},$$slots:{default:!0}})});var b=f(g,2);r(b,()=>zr,(x,d)=>{d(x,{children:(n,c)=>{var y=A(),T=l(y);r(T,()=>Br,(ar,dr)=>{dr(ar,{variant:"link",class:"text-neutral-11 p-0",href:"/login",children:(nr,jr)=>{B();var lr=z("Proceed to Login");e(nr,lr)},$$slots:{default:!0}})}),e(n,y)},$$slots:{default:!0}})}),e(L,I)},$$slots:{default:!0}})}),e(u,v)},$$slots:{default:!0}})}),e(P,o)},$$slots:{default:!0}})}),e(w,F)},$$slots:{default:!0}})}),e(V,N)}export{ae as component};
