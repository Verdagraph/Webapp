import{t as p,a as e,b as F}from"../chunks/Boh5s-Fb.js";import"../chunks/CR0Tndyg.js";import{p as K,c as M,f as v,s as o,g as z,Z as q,h as k,e as C,r as Q,a as R,$ as X}from"../chunks/BwwL9Z8J.js";import{h as Y}from"../chunks/CklQGOQz.js";import{s as rr,z as A,d as er,F as B,C as L,a as O,b as U,I as tr,c as ar,e as or}from"../chunks/0WiqFhNr.js";import{i as sr}from"../chunks/C3lYwGCc.js";import{s as V,a as Z,b as nr,c as lr}from"../chunks/BhVVFR9O.js";import{g as dr}from"../chunks/BPielWKn.js";import{p as ir}from"../chunks/DeAbaOID.js";import{w as I}from"../chunks/DzfjUuxn.js";import{c as pr}from"../chunks/CeF6ml9f.js";import{w as j}from"../chunks/Bn6OaK2A.js";import{T as mr}from"../chunks/tGfV_l-0.js";import{F as cr}from"../chunks/CjzeyFBE.js";import{C as ur,a as fr,b as _r,c as $r}from"../chunks/DC94Memm.js";var vr=p("<!> <!>",1),hr=p("<!> <!>",1),gr=p("<!> <!>",1),wr=p("<!> <!>",1),xr=p('<form method="POST"><!> <!> <!> <!></form>');function Cr(P,h){K(h,!1);const[N,g]=lr(),t=()=>nr(m,"$formData",N);let a=pr(I.mutation,{onSuccess:r=>{const x=`/gardens/${ir.params.gardenId}/workspaces/${r.slug}`;dr(x)}});const s=rr(er(A(I.schema)),{SPA:!0,resetForm:!1,validators:A(I.schema),onUpdate({form:r}){r.valid&&a.execute(r.data)},onChange(){a.reset()}}),{form:m,enhance:c}=s;sr();var u=xr(),w=M(u);B(w,{form:s,name:"name",children:(r,x)=>{var n=hr(),f=v(n);L(f,{children:(S,d)=>{let D=()=>d==null?void 0:d().props;var _=vr(),$=v(_);U($,{get description(){return j.workspaceNameSchema.description},optional:!1,children:(i,J)=>{k();var H=F("Name");e(i,H)},$$slots:{default:!0}});var y=o($,2);tr(y,V(D,{type:"text",placeholder:"Backyard",get value(){return t().name},set value(i){Z(m,C(t).name=i,C(t))},$$legacy:!0})),e(S,_)},$$slots:{default:!0}});var b=o(f,2);const E=q(()=>{var l;return(l=a.fieldErrors)==null?void 0:l.name});O(b,{get handlerErrors(){return z(E)}}),e(r,n)},$$slots:{default:!0}});var T=o(w,2);B(T,{form:s,name:"description",children:(r,x)=>{var n=wr(),f=v(n);L(f,{children:(S,d)=>{let D=()=>d==null?void 0:d().props;var _=gr(),$=v(_);U($,{get description(){return j.workspaceDescriptionSchema.description},optional:!0,children:(i,J)=>{k();var H=F("Description");e(i,H)},$$slots:{default:!0}});var y=o($,2);mr(y,V(D,{get value(){return t().description},set value(i){Z(m,C(t).description=i,C(t))},$$legacy:!0})),e(S,_)},$$slots:{default:!0}});var b=o(f,2);const E=q(()=>{var l;return(l=a.fieldErrors)==null?void 0:l.description});O(b,{get handlerErrors(){return z(E)}}),e(r,n)},$$slots:{default:!0}});var W=o(T,2);cr(W,{get handlerErrors(){return a.nonFieldErrors}});var G=o(W,2);ar(G,{disabled:!1,get loading(){return a.isLoading},variant:"default",class:"mt-2 w-full",children:(r,x)=>{k();var n=F("Submit");e(r,n)},$$slots:{default:!0}}),Q(u),or(u,r=>c==null?void 0:c(r)),e(P,u),R(),g()}var Fr=p("<!> <!>",1);function Br(P){Y(h=>{X.title="New Workspace - Verdagraph"}),ur(P,{class:"m-auto mt-12 w-3/4 md:w-1/2 lg:w-1/3",children:(h,N)=>{var g=Fr(),t=v(g);fr(t,{children:(s,m)=>{_r(s,{children:(c,u)=>{k();var w=F("Create a Workspace");e(c,w)},$$slots:{default:!0}})},$$slots:{default:!0}});var a=o(t,2);$r(a,{children:(s,m)=>{Cr(s,{})},$$slots:{default:!0}}),e(h,g)},$$slots:{default:!0}})}export{Br as component};
