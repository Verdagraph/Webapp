import{a4 as i,e as u,M as c,E as _,a5 as m,g as d,a6 as b,a7 as h}from"./BwwL9Z8J.js";import{l as k}from"./CAZ9iERp.js";import{i as y}from"./BDR0CBNG.js";function M(e,a,s=a){var r=i();k(e,"input",n=>{var l=n?e.defaultValue:e.value;if(l=t(e)?f(l):l,s(l),r&&l!==(l=a())){var o=e.selectionStart,v=e.selectionEnd;e.value=l??"",v!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(v,e.value.length))}}),(_&&e.defaultValue!==e.value||u(a)==null&&e.value)&&s(t(e)?f(e.value):e.value),c(()=>{var n=a();t(e)&&n===f(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function t(e){var a=e.type;return a==="number"||a==="range"}function f(e){return e===""?null:+e}function V(e){let a=0,s=b(0),r;return()=>{m()&&(d(s),c(()=>(a===0&&(r=u(()=>e(()=>y(s)))),a+=1,()=>{h().then(()=>{a-=1,a===0&&(r==null||r(),r=void 0)})})))}}export{M as b,V as c};
