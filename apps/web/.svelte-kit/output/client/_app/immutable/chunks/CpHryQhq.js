var Un=Object.defineProperty;var Zr=t=>{throw TypeError(t)};var Bn=(t,e,n)=>e in t?Un(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Je=(t,e,n)=>Bn(t,typeof e!="symbol"?e+"":e,n),Vr=(t,e,n)=>e.has(t)||Zr("Cannot "+n);var b=(t,e,n)=>(Vr(t,e,"read from private field"),n?n.call(t):e.get(t)),k=(t,e,n)=>e.has(t)?Zr("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),re=(t,e,n,r)=>(Vr(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);import{L as qn,e as Hn,a5 as Kn,a3 as q,g as I,b as de,p as he,f as C,a as ye,c as Ee,n as lt,r as Oe,t as Ne,aS as nn,aT as an,d as zr,Z as Wn,s as Jt,h as Jn,a7 as pr}from"./BwwL9Z8J.js";import{c as Z,a as T,t as ge,b as Gn}from"./Boh5s-Fb.js";import{s as ze,r as Yn}from"./C-TP-Znv.js";import{c as Xn,b as Qn}from"./9hIBgFSa.js";import{b as sn}from"./BM2gA-Nh.js";import{p as $,i as De,r as Ce,s as ut}from"./BhVVFR9O.js";import{c as Ge}from"./Drs4dHx7.js";import{c as Ie}from"./xbTnOFg-.js";import{I as on}from"./C8rKVFp6.js";import{e as hr,i as yr,a as un}from"./kQuJ39Np.js";import{B as Ur}from"./BJEHGdzF.js";import{s as Gt}from"./Dzkt4xrc.js";import{s as we,g as $n}from"./CxR0UCY4.js";import{a as $t,u as ei,b as Le,m as Er}from"./YX1G5wxf.js";import{R as ti,T as ri,P as ni}from"./BDR0CBNG.js";import{g as $e,d as Or,w as be,a as sr}from"./CspeSXRu.js";import{U as ln,N as ii,P as ai,a as si,b as cn,e as Br,H as oi,s as ui,c as li,d as ci,i as fn,f as Ht,h as fi,g as di}from"./b4YLuXSw.js";import{a as Kt}from"./B3yRNm_7.js";import{Z as A,p as mi}from"./CpB06Reo.js";function Bs(t,e,n){qn(()=>{var r=Hn(()=>e(t,n==null?void 0:n())||{});if(r!=null&&r.destroy)return()=>r.destroy()})}function zt(t){let e;const n=Xn(s=>{let a=!1;const o=t.subscribe(u=>{e=u,a&&s()});return a=!0,o});function r(){return Kn()?(n(),e):$e(t)}return"set"in t?{get current(){return r()},set current(s){t.set(s)}}:{get current(){return r()}}}class or extends Error{constructor(e,n){super(e),this.name="DevalueError",this.path=n.join("")}}function qr(t){return Object(t)!==t}const pi=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hi(t){const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===pi}function yi(t){return Object.prototype.toString.call(t).slice(8,-1)}function gi(t){switch(t){case'"':return'\\"';case"<":return"\\u003C";case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return t<" "?`\\u${t.charCodeAt(0).toString(16).padStart(4,"0")}`:""}}function tt(t){let e="",n=0;const r=t.length;for(let s=0;s<r;s+=1){const a=t[s],o=gi(a);o&&(e+=t.slice(n,s)+o,n=s+1)}return`"${n===0?t:e+t.slice(n)}"`}function bi(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.getOwnPropertyDescriptor(t,e).enumerable)}const vi=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function Hr(t){return vi.test(t)?"."+t:"["+JSON.stringify(t)+"]"}function _i(t,e){const n=[],r=new Map,s=[];if(e)for(const c of Object.getOwnPropertyNames(e))s.push({key:c,fn:e[c]});const a=[];let o=0;function u(c){if(typeof c=="function")throw new or("Cannot stringify a function",a);if(r.has(c))return r.get(c);if(c===void 0)return ln;if(Number.isNaN(c))return ii;if(c===1/0)return ai;if(c===-1/0)return si;if(c===0&&1/c<0)return cn;const d=o++;r.set(c,d);for(const{key:g,fn:_}of s){const w=_(c);if(w)return n[d]=`["${g}",${u(w)}]`,d}let p="";if(qr(c))p=ur(c);else{const g=yi(c);switch(g){case"Number":case"String":case"Boolean":p=`["Object",${ur(c)}]`;break;case"BigInt":p=`["BigInt",${c}]`;break;case"Date":p=`["Date","${!isNaN(c.getDate())?c.toISOString():""}"]`;break;case"RegExp":const{source:w,flags:D}=c;p=D?`["RegExp",${tt(w)},"${D}"]`:`["RegExp",${tt(w)}]`;break;case"Array":p="[";for(let v=0;v<c.length;v+=1)v>0&&(p+=","),v in c?(a.push(`[${v}]`),p+=u(c[v]),a.pop()):p+=oi;p+="]";break;case"Set":p='["Set"';for(const v of c)p+=`,${u(v)}`;p+="]";break;case"Map":p='["Map"';for(const[v,O]of c)a.push(`.get(${qr(v)?ur(v):"..."})`),p+=`,${u(v)},${u(O)}`,a.pop();p+="]";break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const O=Br(c.buffer);p='["'+g+'","'+O+'"]';break}case"ArrayBuffer":{p=`["ArrayBuffer","${Br(c)}"]`;break}default:if(!hi(c))throw new or("Cannot stringify arbitrary non-POJOs",a);if(bi(c).length>0)throw new or("Cannot stringify POJOs with symbolic keys",a);if(Object.getPrototypeOf(c)===null){p='["null"';for(const v in c)a.push(Hr(v)),p+=`,${tt(v)},${u(c[v])}`,a.pop();p+="]"}else{p="{";let v=!1;for(const O in c)v&&(p+=","),v=!0,a.push(Hr(O)),p+=`${tt(O)}:${u(c[O])}`,a.pop();p+="}"}}}return n[d]=p,d}const f=u(t);return f<0?`${f}`:`[${n.join(",")}]`}function ur(t){const e=typeof t;return e==="string"?tt(t):t instanceof String?tt(t.toString()):t===void 0?ln.toString():t===0&&1/t<0?cn.toString():e==="bigint"?`["BigInt","${t}"]`:String(t)}const wi="data-label-root";var ht,yt,gt;class Ai{constructor(e){k(this,ht);k(this,yt);k(this,gt,q(()=>({[wi]:"",onmousedown:this.onmousedown})));re(this,ht,e.id),re(this,yt,e.ref),this.onmousedown=this.onmousedown.bind(this),$t({id:b(this,ht),ref:b(this,yt)})}onmousedown(e){e.detail>1&&e.preventDefault()}get props(){return I(b(this,gt))}set props(e){de(b(this,gt),e)}}ht=new WeakMap,yt=new WeakMap,gt=new WeakMap;function Si(t){return new Ai(t)}var Pi=ge("<label><!></label>");function Ei(t,e){he(e,!0);let n=$(e,"id",19,ei),r=$(e,"ref",15,null),s=Ce(e,["$$slots","$$events","$$legacy","children","child","id","ref","for"]);const a=Si({id:Le.with(()=>n()),ref:Le.with(()=>r(),p=>r(p))}),o=q(()=>Er(s,a.props,{for:e.for}));var u=Z(),f=C(u);{var c=p=>{var g=Z(),_=C(g);we(_,()=>e.child,()=>({props:I(o)})),T(p,g)},d=p=>{var g=Pi();let _;var w=Ee(g);we(w,()=>e.children??lt),Oe(g),Ne(()=>_=ze(g,_,{...I(o),for:e.for})),T(p,g)};De(f,p=>{e.child?p(c):p(d,!1)})}T(t,u),ye()}var Oi=ge("<input>");function qs(t,e){he(e,!0);let n=$(e,"ref",15,null),r=$(e,"value",15),s=Ce(e,["$$slots","$$events","$$legacy","ref","value","class"]);var a=Oi();Yn(a);let o;sn(a,u=>n(u),()=>n()),Ne(u=>o=ze(a,o,{class:u,...s}),[()=>Ge("border-neutral-7 bg-neutral-1 ring-offset-neutral-1 placeholder:text-neutral-11 focus-visible:ring-neutral-7 flex h-10 w-full rounded-md border px-3 py-2 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e.class)]),Qn(a,r),T(t,a),ye()}function Ti(t){return Array.isArray(t)?t:typeof t=="object"&&"_errors"in t&&t._errors!==void 0?t._errors:[]}function lr(t,e){const n=t.split(/[[\].]/).filter(Boolean);let r=e;for(const s of n){if(typeof r!="object"||r===null)return;r=r[s]}return r}function xi({fieldErrorsId:t=void 0,descriptionId:e=void 0,errors:n}){let r="";return e&&(r+=`${e} `),n.length&&t&&(r+=t),r?r.trim():void 0}function Mi(t){if("required"in t)return t.required?"true":void 0}function ji(t){return t&&t.length?"true":void 0}function er(t){return t&&t.length?"":void 0}var Qt,Se,bt,nt,it,vt,_t,wt,At,St,Pt,Et,Ot;class ki{constructor(e){k(this,Qt);k(this,Se);k(this,bt);k(this,nt);k(this,it);k(this,vt);k(this,_t,q(()=>b(this,Se).current));k(this,wt,q(()=>Ti(lr(b(this,Se).current,b(this,bt).current))));k(this,At,q(()=>lr(b(this,Se).current,b(this,nt).current)??{}));k(this,St,q(()=>b(this,it).current?lr(b(this,Se).current,b(this,it).current)===!0:!1));k(this,Pt,zr(null));k(this,Et,zr(null));k(this,Ot,q(()=>({value:b(this,vt).current[b(this,Se).current],errors:this.errors,tainted:this.tainted,constraints:b(this,nt).current[b(this,Se).current]??{}})));re(this,Qt,e.form),re(this,Se,e.name),re(this,bt,zt(e.form.current.errors)),re(this,nt,zt(e.form.current.constraints)),re(this,it,zt(e.form.current.tainted)),re(this,vt,zt(e.form.current.form))}get name(){return I(b(this,_t))}set name(e){de(b(this,_t),e)}get errors(){return I(b(this,wt))}set errors(e){de(b(this,wt),e)}get constraints(){return I(b(this,At))}set constraints(e){de(b(this,At),e)}get tainted(){return I(b(this,St))}set tainted(e){de(b(this,St),e)}get errorNode(){return I(b(this,Pt))}set errorNode(e){de(b(this,Pt),e,!0)}get descriptionNode(){return I(b(this,Et))}set descriptionNode(e){de(b(this,Et),e,!0)}get snippetProps(){return I(b(this,Ot))}set snippetProps(e){de(b(this,Ot),e)}}Qt=new WeakMap,Se=new WeakMap,bt=new WeakMap,nt=new WeakMap,it=new WeakMap,vt=new WeakMap,_t=new WeakMap,wt=new WeakMap,At=new WeakMap,St=new WeakMap,Pt=new WeakMap,Et=new WeakMap,Ot=new WeakMap;var Tt,at,xt,Mt,jt,kt;class Fi{constructor(e,n){k(this,Tt);k(this,at);Je(this,"field");k(this,xt,q(()=>er(this.field.errors)));k(this,Mt,q(()=>({errors:this.field.errors,errorProps:this.errorProps})));k(this,jt,q(()=>({id:b(this,at).current,"data-fs-error":I(b(this,xt)),"data-fs-field-errors":"","aria-live":"assertive"})));k(this,kt,q(()=>({"data-fs-field-error":"","data-fs-error":I(b(this,xt))})));re(this,Tt,e.ref),re(this,at,e.id),this.field=n,$t({id:b(this,at),ref:b(this,Tt),onRefChange:r=>{this.field.errorNode=r}})}get snippetProps(){return I(b(this,Mt))}set snippetProps(e){de(b(this,Mt),e)}get fieldErrorsProps(){return I(b(this,jt))}set fieldErrorsProps(e){de(b(this,jt),e)}get errorProps(){return I(b(this,kt))}set errorProps(e){de(b(this,kt),e)}}Tt=new WeakMap,at=new WeakMap,xt=new WeakMap,Mt=new WeakMap,jt=new WeakMap,kt=new WeakMap;var Ft,st,It;class Ii{constructor(e,n){k(this,Ft);k(this,st);Je(this,"field");k(this,It,q(()=>({id:b(this,st).current,"data-fs-error":er(this.field.errors),"data-fs-description":""})));re(this,Ft,e.ref),re(this,st,e.id),this.field=n,$t({id:b(this,st),ref:b(this,Ft),onRefChange:r=>{this.field.descriptionNode=r}})}get props(){return I(b(this,It))}set props(e){de(b(this,It),e)}}Ft=new WeakMap,st=new WeakMap,It=new WeakMap;var Nt;class Ni{constructor(e,n){Je(this,"id");Je(this,"field");k(this,Nt,q(()=>{var e,n;return{id:this.id.current,name:this.field.name,"data-fs-error":er(this.field.errors),"aria-describedby":xi({fieldErrorsId:(e=this.field.errorNode)==null?void 0:e.id,descriptionId:(n=this.field.descriptionNode)==null?void 0:n.id,errors:this.field.errors}),"aria-invalid":ji(this.field.errors),"aria-required":Mi(this.field.constraints),"data-fs-control":""}}));this.id=e.id,this.field=n}get props(){return I(b(this,Nt))}set props(e){de(b(this,Nt),e)}}Nt=new WeakMap;var Dt,ot,Lt;class Di{constructor(e,n){k(this,Dt);k(this,ot);Je(this,"control");k(this,Lt,q(()=>({id:b(this,ot).current,"data-fs-label":"","data-fs-error":er(this.control.field.errors),for:this.control.id.current})));re(this,Dt,e.ref),re(this,ot,e.id),this.control=n,$t({id:b(this,ot),ref:b(this,Dt)})}get props(){return I(b(this,Lt))}set props(e){de(b(this,Lt),e)}}Dt=new WeakMap,ot=new WeakMap,Lt=new WeakMap;const dn=Symbol.for("formsnap.form-field"),mn=Symbol.for("formsnap.form-control");function Li(t){return nn(dn,new ki(t))}function Tr(){return an(dn)}function Ci(t){return new Fi(t,Tr())}function Hs(t){return new Ii(t,Tr())}function Ri(t){return nn(mn,new Ni(t,Tr()))}function Zi(){return an(mn)}function Vi(t){return new Di(t,Zi())}let Kr=0;function xr(t="formsnap"){return Kr++,`${t}-${Kr}`}function zi(t,e){he(e,!0);const n=Li({form:Le.with(()=>e.form),name:Le.with(()=>e.name)});var r=Z(),s=C(r);we(s,()=>e.children??lt,()=>n.snippetProps),T(t,r),ye()}function Ui(t,e){he(e,!0);let n=$(e,"id",19,xr);const r=Ri({id:Le.with(()=>n())});var s=Z(),a=C(s);we(a,()=>e.children??lt,()=>({props:r.props})),T(t,s),ye()}var Bi=ge("<label><!></label>");function qi(t,e){he(e,!0);let n=$(e,"id",19,xr),r=$(e,"ref",15,null),s=Ce(e,["$$slots","$$events","$$legacy","id","ref","children","child"]);const a=Vi({id:Le.with(()=>n()),ref:Le.with(()=>r(),p=>r(p))}),o=q(()=>Er(s,a.props));var u=Z(),f=C(u);{var c=p=>{var g=Z(),_=C(g);we(_,()=>e.child,()=>({props:I(o)})),T(p,g)},d=p=>{var g=Bi();let _;var w=Ee(g);we(w,()=>e.children??lt),Oe(g),Ne(()=>_=ze(g,_,{...I(o)})),T(p,g)};De(f,p=>{e.child?p(c):p(d,!1)})}T(t,u),ye()}var Hi=ge("<div> </div>"),Ki=ge("<div><!></div>");function Wi(t,e){he(e,!0);let n=$(e,"id",19,xr),r=$(e,"ref",15,null),s=Ce(e,["$$slots","$$events","$$legacy","id","ref","children","child"]);const a=Ci({id:Le.with(()=>n()),ref:Le.with(()=>r(),p=>r(p))}),o=q(()=>Er(s,a.fieldErrorsProps));var u=Z(),f=C(u);{var c=p=>{var g=Z(),_=C(g),w=Wn(()=>({props:I(o),...a.snippetProps}));we(_,()=>e.child,()=>I(w)),T(p,g)},d=p=>{var g=Ki();let _;var w=Ee(g);{var D=O=>{var L=Z(),H=C(L);we(H,()=>e.children,()=>a.snippetProps),T(O,L)},v=O=>{var L=Z(),H=C(L);hr(H,17,()=>a.field.errors,yr,(F,Me)=>{var ie=Hi();let ae;var Y=Ee(ie,!0);Oe(ie),Ne(()=>{ae=ze(ie,ae,{...a.errorProps}),Gt(Y,I(Me))}),T(F,ie)}),T(O,L)};De(w,O=>{e.children?O(D):O(v,!1)})}Oe(g),Ne(()=>_=ze(g,_,{...I(o)})),T(p,g)};De(f,p=>{e.child?p(c):p(d,!1)})}T(t,u),ye()}function Ks(t,e){he(e,!0);let n=$(e,"ref",15,null),r=$(e,"loading",3,!1),s=Ce(e,["$$slots","$$events","$$legacy","ref","loading"]);var a=Z(),o=C(a);{var u=c=>{var d=Z(),p=C(d);Ie(p,()=>Ur,(g,_)=>{_(g,ut({type:"submit"},()=>s,{children:(w,D)=>{on(w,{get icon(){return un.defaultSpinnerIcon},width:"1.5rem",class:"animate-spin"})},$$slots:{default:!0}}))}),T(c,d)},f=c=>{var d=Z(),p=C(d);Ie(p,()=>Ur,(g,_)=>{_(g,ut({type:"submit"},()=>s,{get ref(){return n()},set ref(w){n(w)}}))}),T(c,d)};De(o,c=>{r()?c(u):c(f,!1)})}T(t,a),ye()}var Ji=ge("<li> </li>"),Gi=ge("<li> </li>"),Yi=ge("<ul><!> <!></ul>");function Ws(t,e){he(e,!0);let n=$(e,"ref",15,null),r=Ce(e,["$$slots","$$events","$$legacy","ref","class","errorClasses","children","handlerErrors"]);var s=Z(),a=C(s);const o=q(()=>Ge("text-destructive-11 text-sm font-medium",e.class));Ie(a,()=>Wi,(u,f)=>{f(u,ut({get class(){return I(o)}},()=>r,{get ref(){return n()},set ref(d){n(d)},children:(d,p)=>{let g=()=>p==null?void 0:p().errors,_=()=>p==null?void 0:p().errorProps;var w=Z(),D=C(w);{var v=L=>{var H=Z(),F=C(H);we(F,()=>e.children,()=>({errors:g(),errorProps:_()})),T(L,H)},O=L=>{var H=Yi(),F=Ee(H);hr(F,17,g,yr,(ae,Y)=>{var ee=Ji();let Re;var Be=Ee(ee,!0);Oe(ee),Ne(je=>{Re=ze(ee,Re,{..._(),class:je}),Gt(Be,I(Y))},[()=>Ge(e.errorClasses,"border-destructive-7 bg-destructive-3 border-x p-2 first:rounded-t-sm first:border-t last:mb-4 last:rounded-b-sm last:border-b")]),T(ae,ee)});var Me=Jt(F,2);{var ie=ae=>{var Y=Z(),ee=C(Y);hr(ee,17,()=>e.handlerErrors,yr,(Re,Be)=>{var je=Gi();let Ye;var se=Ee(je,!0);Oe(je),Ne(V=>{Ye=ze(je,Ye,{..._(),class:V}),Gt(se,I(Be))},[()=>Ge(e.errorClasses,"border-destructive-7 bg-destructive-3 border-x p-2 first:rounded-t-sm first:border-t last:mb-4 last:rounded-b-sm last:border-b")]),T(Re,je)}),T(ae,Y)};De(Me,ae=>{e.handlerErrors&&ae(ie)})}Oe(H),T(L,H)};De(D,L=>{e.children?L(v):L(O,!1)})}T(d,w)},$$slots:{default:!0}}))}),T(t,s),ye()}var Xi=ge("<div><!></div>");function Js(t,e){he(e,!0);let n=$(e,"ref",15,null),r=Ce(e,["$$slots","$$events","$$legacy","ref","class","form","name","children"]);var s=Z(),a=C(s);Ie(a,()=>zi,(o,u)=>{u(o,{get form(){return e.form},get name(){return e.name},children:(c,d)=>{let p=()=>d==null?void 0:d().constraints,g=()=>d==null?void 0:d().errors,_=()=>d==null?void 0:d().tainted,w=()=>d==null?void 0:d().value;var D=Xi();let v;var O=Ee(D);we(O,()=>e.children??lt,()=>({constraints:p(),errors:g(),tainted:_(),value:w()})),Oe(D),sn(D,L=>n(L),()=>n()),Ne(L=>v=ze(D,v,{class:L,...r}),[()=>Ge("space-y-4",e.class)]),T(c,D)},$$slots:{default:!0}})}),T(t,s),ye()}var Qi=ge("<!> <!>",1);function $i(t,e){he(e,!0);var n=Z(),r=C(n);Ie(r,()=>ti,(s,a)=>{a(s,{children:(o,u)=>{var f=Qi(),c=C(f);Ie(c,()=>ri,(p,g)=>{g(p,{class:"w-8",children:(_,w)=>{on(_,{get icon(){return un.formFieldDescriptionIcon},width:"1rem",class:"text-neutral-11 hover:text-neutral-10 ml-2"})},$$slots:{default:!0}})});var d=Jt(c,2);Ie(d,()=>ni,(p,g)=>{g(p,{class:"max-w-2xl",children:(_,w)=>{Jn();var D=Gn();Ne(()=>Gt(D,e.description)),T(_,D)},$$slots:{default:!0}})}),T(o,f)},$$slots:{default:!0}})}),T(t,n),ye()}function ea(t,e){he(e,!0);let n=$(e,"ref",15,null),r=Ce(e,["$$slots","$$events","$$legacy","ref","class"]);var s=Z(),a=C(s);const o=q(()=>Ge("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e.class));Ie(a,()=>Ei,(u,f)=>{f(u,ut({get class(){return I(o)}},()=>r,{get ref(){return n()},set ref(c){n(c)}}))}),T(t,s),ye()}var ta=ge('<span class="translate-y-[2px]">*</span>'),ra=ge('<div class=" decoration-destructive-8 underline-offset-4 data-[fs-error]:underline data-[fs-error]:decoration-wavy"><!></div> <div class="flex items-center"><!> <!></div>',1);function Gs(t,e){he(e,!0);let n=$(e,"ref",15,null),r=$(e,"optional",3,!1),s=Ce(e,["$$slots","$$events","$$legacy","ref","children","class","description","optional"]);var a=Z(),o=C(a);Ie(o,()=>qi,(u,f)=>{f(u,ut(()=>s,{get ref(){return n()},set ref(d){n(d)},child:(d,p)=>{let g=()=>p==null?void 0:p().props;const _=q(()=>Ge("flex items-center justify-between",e.class));ea(d,ut(g,{get class(){return I(_)},children:(w,D)=>{var v=ra(),O=C(v),L=Ee(O);we(L,()=>e.children??lt),Oe(O);var H=Jt(O,2),F=Ee(H);{var Me=Y=>{var ee=ta();T(Y,ee)};De(F,Y=>{r()||Y(Me)})}var ie=Jt(F,2);{var ae=Y=>{$i(Y,{get description(){return e.description}})};De(ie,Y=>{e.description&&Y(ae)})}Oe(H),T(w,v)},$$slots:{default:!0}}))},$$slots:{child:!0}}))}),T(t,a),ye()}const Ys=Ui,pn=()=>{const t=ui;return{page:{subscribe:t.page.subscribe},navigating:{subscribe:t.navigating.subscribe},updated:t.updated}},ft={subscribe(t){return pn().page.subscribe(t)}},Wr={subscribe(t){return pn().navigating.subscribe(t)}};function gr(t,e,n){return t[e]=n,"skip"}function na(t,e){return e.value!==void 0&&typeof e.value!="object"&&e.path.length<t.length}function Ve(t,e,n={}){n.modifier||(n.modifier=s=>na(e,s)?void 0:s.value);const r=xe(t,e,n.modifier);if(r)return n.value===void 0||n.value(r.value)?r:void 0}function xe(t,e,n){if(!e.length)return;const r=[e[0]];let s=t;for(;s&&r.length<e.length;){const o=r[r.length-1],u=n?n({parent:s,key:String(o),value:s[o],path:r.map(f=>String(f)),isLeaf:!1,set:f=>gr(s,o,f)}):s[o];if(u===void 0)return;s=u,r.push(e[r.length])}if(!s)return;const a=e[e.length-1];return{parent:s,key:String(a),value:s[a],path:e.map(o=>String(o)),isLeaf:!0,set:o=>gr(s,a,o)}}function Fe(t,e,n=[]){for(const r in t){const s=t[r],a=s===null||typeof s!="object",o={parent:t,key:r,value:s,path:n.concat([r]),isLeaf:a,set:f=>gr(t,r,f)},u=e(o);if(u==="abort")return u;if(u==="skip")continue;if(!a){const f=Fe(s,e,o.path);if(f==="abort")return f}}}function ia(t,e){return t===e||t.size===e.size&&[...t].every(n=>e.has(n))}function Jr(t,e){const n=new Map;function r(u,f){return u instanceof Date&&f instanceof Date&&u.getTime()!==f.getTime()||u instanceof Set&&f instanceof Set&&!ia(u,f)||u instanceof File&&f instanceof File&&u!==f}function s(u){return u instanceof Date||u instanceof Set||u instanceof File}function a(u,f){const c=f?xe(f,u.path):void 0;function d(){return n.set(u.path.join(" "),u.path),"skip"}if(s(u.value)&&(!s(c==null?void 0:c.value)||r(u.value,c.value)))return d();u.isLeaf&&(!c||u.value!==c.value)&&d()}Fe(t,u=>a(u,e)),Fe(e,u=>a(u,t));const o=Array.from(n.values());return o.sort((u,f)=>u.length-f.length),o}function Ae(t,e,n){const r=typeof n=="function";for(const s of e){const a=xe(t,s,({parent:o,key:u,value:f})=>((f===void 0||typeof f!="object")&&(o[u]={}),o[u]));a&&(a.parent[a.key]=r?n(s,a):n)}}function rt(t){return t.toString().split(/[[\].]+/).filter(e=>e)}function dt(t){return t.reduce((e,n)=>{const r=String(n);return typeof n=="number"||/^\d+$/.test(r)?e+=`[${r}]`:e?e+=`.${r}`:e+=r,e},"")}function mt(t){const e={}.toString.call(t).slice(8,-1);if(e=="Set")return new Set([...t].map(n=>mt(n)));if(e=="Map")return new Map([...t].map(n=>[mt(n[0]),mt(n[1])]));if(e=="Date")return new Date(t.getTime());if(e=="RegExp")return RegExp(t.source,t.flags);if(e=="Array"||e=="Object"){const n=e=="Object"?Object.create(Object.getPrototypeOf(t)):[];for(const r in t)n[r]=mt(t[r]);return n}return t}function fe(t){return t&&typeof t=="object"?mt(t):t}function tr(t,e){if(typeof t=="boolean")throw new Pe("Schema property cannot be defined as boolean.",e)}const Ut=t=>{if(typeof t=="object"&&t!==null){if(typeof Object.getPrototypeOf=="function"){const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null}return Object.prototype.toString.call(t)==="[object Object]"}return!1},pe=(...t)=>t.reduce((e,n)=>{if(n===void 0)return e;if(Array.isArray(n))throw new TypeError("Arguments provided to ts-deepmerge must be objects, not arrays.");return Object.keys(n).forEach(r=>{["__proto__","constructor","prototype"].includes(r)||(Array.isArray(e[r])&&Array.isArray(n[r])?e[r]=pe.options.mergeArrays?pe.options.uniqueArrayItems?Array.from(new Set(e[r].concat(n[r]))):[...e[r],...n[r]]:n[r]:Ut(e[r])&&Ut(n[r])?e[r]=pe(e[r],n[r]):!Ut(e[r])&&Ut(n[r])?e[r]=pe(n[r],void 0):e[r]=n[r]===void 0?pe.options.allowUndefinedOverrides?n[r]:e[r]:n[r])}),e},{}),br={allowUndefinedOverrides:!0,mergeArrays:!0,uniqueArrayItems:!0};pe.options=br;pe.withOptions=(t,...e)=>{pe.options=Object.assign(Object.assign({},br),t);const n=pe(...e);return pe.options=br,n};const aa=["unix-time","bigint","any","symbol","set","int64"];function Te(t,e,n){var c;tr(t,n);const r=hn(t,n),s=t.items&&r.includes("array")?(Array.isArray(t.items)?t.items:[t.items]).filter(d=>typeof d!="boolean"):void 0,a=t.additionalProperties&&typeof t.additionalProperties=="object"&&r.includes("object")?Object.fromEntries(Object.entries(t.additionalProperties).filter(([,d])=>typeof d!="boolean")):void 0,o=t.properties&&r.includes("object")?Object.fromEntries(Object.entries(t.properties).filter(([,d])=>typeof d!="boolean")):void 0,u=(c=sa(t))==null?void 0:c.filter(d=>d.type!=="null"&&d.const!==null),f={types:r.filter(d=>d!=="null"),isOptional:e,isNullable:r.includes("null"),schema:t,union:u!=null&&u.length?u:void 0,array:s,properties:o,additionalProperties:a,required:t.required};return!t.allOf||!t.allOf.length?f:{...pe.withOptions({allowUndefinedOverrides:!1},f,...t.allOf.map(d=>Te(d,!1,[]))),schema:t}}function hn(t,e){tr(t,e);let n=t.const===null?["null"]:[];if(t.type&&(n=Array.isArray(t.type)?t.type:[t.type]),t.anyOf&&(n=t.anyOf.flatMap(r=>hn(r,e))),n.includes("array")&&t.uniqueItems){const r=n.findIndex(s=>s!="array");n[r]="set"}else if(t.format&&aa.includes(t.format)&&(n.unshift(t.format),t.format=="unix-time"||t.format=="int64")){const r=n.findIndex(s=>s=="integer");n.splice(r,1)}return t.const&&t.const!==null&&typeof t.const!="function"&&n.push(typeof t.const),Array.from(new Set(n))}function sa(t){if(!(!t.anyOf||!t.anyOf.length))return t.anyOf.filter(e=>typeof e!="boolean")}function oa(t,e=!1,n=[]){return pt(t,e,n)}function pt(t,e,n){var c;if(!t)throw new Pe("Schema was undefined",n);const r=Te(t,e,n);if(!r)return;let s;if("default"in t)if(r.types.includes("object")&&t.default&&typeof t.default=="object"&&!Array.isArray(t.default))s=t.default;else{if(r.types.length>1&&r.types.includes("unix-time")&&(r.types.includes("integer")||r.types.includes("number")))throw new Pe("Cannot resolve a default value with a union that includes a date and a number/integer.",n);const[d]=r.types;return ua(d,t.default)}let a;const o=()=>!r.union||r.union.length<2?!1:r.union.some(d=>d.enum)?!0:(a||(a=new Set(r.types.map(d=>["integer","unix-time"].includes(d)?"number":d))),a.size>1);let u;if(!s&&r.union){const d=r.union.filter(p=>typeof p!="boolean"&&p.default!==void 0);if(d.length==1)return pt(d[0],e,n);if(d.length>1)throw new Pe("Only one default value can exist in a union, or set a default value for the whole union.",n);if(r.isNullable)return null;if(r.isOptional)return;if(o())throw new Pe("Multi-type unions must have a default value, or exactly one of the union types must have.",n);r.union.length&&r.types[0]=="object"&&(u===void 0&&(u={}),u=r.union.length>1?pe.withOptions({allowUndefinedOverrides:!0},...r.union.map(p=>pt(p,e,n))):pt(r.union[0],e,n))}if(!s){if(r.isNullable)return null;if(r.isOptional)return}if(r.properties)for(const[d,p]of Object.entries(r.properties)){tr(p,[...n,d]);const g=s&&s[d]!==void 0?s[d]:pt(p,!((c=r.required)!=null&&c.includes(d)),[...n,d]);u===void 0&&(u={}),u[d]=g}else if(s)return s;if(t.enum)return t.enum[0];if(o())throw new Pe("Default values cannot have more than one type.",n);if(r.types.length==0)return;const[f]=r.types;return u??la(f,t.enum)}function ua(t,e){switch(t){case"set":return Array.isArray(e)?new Set(e):e;case"Date":case"date":case"unix-time":if(typeof e=="string"||typeof e=="number")return new Date(e);break;case"bigint":if(typeof e=="string"||typeof e=="number")return BigInt(e);break;case"symbol":if(typeof e=="string"||typeof e=="number")return Symbol(e);break}return e}function la(t,e){switch(t){case"string":return e&&e.length>0?e[0]:"";case"number":case"integer":return e&&e.length>0?e[0]:0;case"boolean":return!1;case"array":return[];case"object":return{};case"null":return null;case"Date":case"date":case"unix-time":return;case"int64":case"bigint":return BigInt(0);case"set":return new Set;case"symbol":return Symbol();case"undefined":case"any":return;default:throw new Pe("Schema type or format not supported, requires explicit default value: "+t)}}class B extends Error{constructor(e){super(e),Object.setPrototypeOf(this,B.prototype)}}class Pe extends B{constructor(n,r){super((r&&r.length?`[${Array.isArray(r)?r.join("."):r}] `:"")+n);Je(this,"path");this.path=Array.isArray(r)?r.join("."):r,Object.setPrototypeOf(this,Pe.prototype)}}function ca(t,e){var s;const n={};function r(a){if("_errors"in n||(n._errors=[]),!Array.isArray(n._errors))if(typeof n._errors=="string")n._errors=[n._errors];else throw new B("Form-level error was not an array.");n._errors.push(a.message)}for(const a of t){if(!a.path||a.path.length==1&&!a.path[0]){r(a);continue}const u=!/^\d$/.test(String(a.path[a.path.length-1]))&&((s=Ve(e,a.path.filter(p=>/\D/.test(String(p)))))==null?void 0:s.value),f=xe(n,a.path,({value:p,parent:g,key:_})=>(p===void 0&&(g[_]={}),g[_]));if(!f){r(a);continue}const{parent:c,key:d}=f;u?(d in c||(c[d]={}),"_errors"in c[d]?c[d]._errors.push(a.message):c[d]._errors=[a.message]):d in c?c[d].push(a.message):c[d]=[a.message]}return n}function Gr(t,e,n){return n?t:(Fe(e,r=>{Array.isArray(r.value)&&r.set(void 0)}),Fe(t,r=>{!Array.isArray(r.value)&&r.value!==void 0||Ae(e,[r.path],r.value)}),e)}function fa(t){return yn(t,[])}function yn(t,e){return Object.entries(t).filter(([,r])=>r!==void 0).flatMap(([r,s])=>{if(Array.isArray(s)&&s.length>0){const a=e.concat([r]);return{path:dt(a),messages:s}}else return yn(t[r],e.concat([r]))})}function Yr(t){t.flashMessage&&vr(t)&&(document.cookie=`flash=; Max-Age=0; Path=${t.flashMessage.cookiePath??"/"};`)}function vr(t){return t.flashMessage?t.syncFlashMessage:!1}function _r(t){const e=JSON.parse(t);return e.data&&(e.data=li(e.data,ci.decoders)),e}function cr(t){return HTMLElement.prototype.cloneNode.call(t)}function da(t,e=()=>{}){const n=async({action:s,result:a,reset:o=!0,invalidateAll:u=!0})=>{a.type==="success"&&(o&&HTMLFormElement.prototype.reset.call(t),u&&await fn()),(location.origin+location.pathname===s.origin+s.pathname||a.type==="redirect"||a.type==="error")&&await Ht(a)};async function r(s){var D,v,O,L,H;if(((D=s.submitter)!=null&&D.hasAttribute("formmethod")?s.submitter.formMethod:cr(t).method)!=="post")return;s.preventDefault();const o=new URL((v=s.submitter)!=null&&v.hasAttribute("formaction")?s.submitter.formAction:cr(t).action),u=(O=s.submitter)!=null&&O.hasAttribute("formenctype")?s.submitter.formEnctype:cr(t).enctype,f=new FormData(t),c=(L=s.submitter)==null?void 0:L.getAttribute("name");c&&f.append(c,((H=s.submitter)==null?void 0:H.getAttribute("value"))??"");const d=new AbortController;let p=!1;const _=await e({action:o,cancel:()=>p=!0,controller:d,formData:f,formElement:t,submitter:s.submitter})??n;if(p)return;let w;try{const F=new Headers({accept:"application/json","x-sveltekit-action":"true"});u!=="multipart/form-data"&&F.set("Content-Type",/^(:?application\/x-www-form-urlencoded|text\/plain)$/.test(u)?u:"application/x-www-form-urlencoded");const Me=u==="multipart/form-data"?f:new URLSearchParams(f),ie=await fetch(o,{method:"POST",headers:F,cache:"no-store",body:Me,signal:d.signal});w=_r(await ie.text()),w.type==="error"&&(w.status=ie.status)}catch(F){if((F==null?void 0:F.name)==="AbortError")return;w={type:"error",error:F}}await _({action:o,formData:f,formElement:t,update:F=>n({action:o,result:w,reset:F==null?void 0:F.reset,invalidateAll:F==null?void 0:F.invalidateAll}),result:w})}return HTMLFormElement.prototype.addEventListener.call(t,"submit",r),{destroy(){HTMLFormElement.prototype.removeEventListener.call(t,"submit",r)}}}const gn="noCustomValidity";async function Xr(t,e){"setCustomValidity"in t&&t.setCustomValidity(""),!(gn in t.dataset)&&bn(t,e)}function ma(t,e){for(const n of t.querySelectorAll("input,select,textarea,button")){if("dataset"in n&&gn in n.dataset||!n.name)continue;const r=xe(e,rt(n.name)),s=r&&typeof r.value=="object"&&"_errors"in r.value?r.value._errors:r==null?void 0:r.value;if(bn(n,s),s)return}}function bn(t,e){if(!("setCustomValidity"in t))return;const n=e&&e.length?e.join(`
`):"";t.setCustomValidity(n),n&&t.reportValidity()}const pa=(t,e=0)=>{const n=t.getBoundingClientRect();return n.top>=e&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)},ha=(t,e=1.125,n="smooth")=>{const a=t.getBoundingClientRect().top+window.pageYOffset-window.innerHeight/(2*e);window.scrollTo({left:0,top:a,behavior:n})},ya=["checkbox","radio","range","file"];function Qr(t){const e=!!t&&(t instanceof HTMLSelectElement||t instanceof HTMLInputElement&&ya.includes(t.type)),n=!!t&&t instanceof HTMLSelectElement&&t.multiple,r=!!t&&t instanceof HTMLInputElement&&t.type=="file";return{immediate:e,multiple:n,file:r}}var Q;(function(t){t[t.Idle=0]="Idle",t[t.Submitting=1]="Submitting",t[t.Delayed=2]="Delayed",t[t.Timeout=3]="Timeout"})(Q||(Q={}));const ga=new Set;function ba(t,e,n){let r=Q.Idle,s,a;const o=ga;function u(){f(),d(r!=Q.Delayed?Q.Submitting:Q.Delayed),s=window.setTimeout(()=>{s&&r==Q.Submitting&&d(Q.Delayed)},n.delayMs),a=window.setTimeout(()=>{a&&r==Q.Delayed&&d(Q.Timeout)},n.timeoutMs),o.add(f)}function f(){clearTimeout(s),clearTimeout(a),s=a=0,o.delete(f),d(Q.Idle)}function c(){o.forEach(v=>v()),o.clear()}function d(v){r=v,e.submitting.set(r>=Q.Submitting),e.delayed.set(r>=Q.Delayed),e.timeout.set(r>=Q.Timeout)}const p=t;function g(v){const O=v.target;n.selectErrorText&&O.select()}function _(){n.selectErrorText&&p.querySelectorAll("input").forEach(v=>{v.addEventListener("invalid",g)})}function w(){n.selectErrorText&&p.querySelectorAll("input").forEach(v=>v.removeEventListener("invalid",g))}const D=t;{_();const v=O=>{O.clearAll?c():f(),O.cancelled||setTimeout(()=>wr(D,n),1)};return Kt(()=>{w(),v({cancelled:!0})}),{submitting(){u()},completed:v,scrollToFirstError(){setTimeout(()=>wr(D,n),1)},isSubmitting:()=>r===Q.Submitting||r===Q.Delayed}}}const wr=async(t,e)=>{if(e.scrollToError=="off")return;const n=e.errorSelector;if(!n)return;await pr();let r;if(r=t.querySelector(n),!r)return;r=r.querySelector(n)??r;const s=e.stickyNavbar?document.querySelector(e.stickyNavbar):null;typeof e.scrollToError!="string"?r.scrollIntoView(e.scrollToError):pa(r,(s==null?void 0:s.offsetHeight)??0)||ha(r,void 0,e.scrollToError);function a(u){return typeof e.autoFocusOnError=="boolean"?e.autoFocusOnError:!/iPhone|iPad|iPod|Android/i.test(u)}if(!a(navigator.userAgent))return;let o;if(o=r,["INPUT","SELECT","BUTTON","TEXTAREA"].includes(o.tagName)||(o=o.querySelector('input:not([type="hidden"]):not(.flatpickr-input), select, textarea')),o)try{o.focus({preventScroll:!0}),e.selectErrorText&&o.tagName=="INPUT"&&o.select()}catch{}};function Yt(t,e,n){const r=xe(t,e,({parent:s,key:a,value:o})=>(o===void 0&&(s[a]=/\D/.test(a)?{}:[]),s[a]));if(r){const s=n(r.value);r.parent[r.key]=s}return t}function va(t,e,n){const r=t.form,s=rt(e),a=Or(r,o=>{const u=xe(o,s);return u==null?void 0:u.value});return{subscribe(...o){const u=a.subscribe(...o);return()=>u()},update(o,u){r.update(f=>Yt(f,s,o),u??n)},set(o,u){r.update(f=>Yt(f,s,()=>o),u??n)}}}function _a(t,e){const n="form"in t;if(!n&&(e==null?void 0:e.taint)!==void 0)throw new B("If options.taint is set, the whole superForm object must be used as a proxy.");return n}function Bt(t,e,n){const r=rt(e);if(_a(t,n))return va(t,e,n);const s=Or(t,a=>{const o=xe(a,r);return o==null?void 0:o.value});return{subscribe(...a){const o=s.subscribe(...a);return()=>o()},update(a){t.update(o=>Yt(o,r,a))},set(a){t.update(o=>Yt(o,r,()=>a))}}}function wa(t,e=[]){const n=Ar(t,e);if(!n)throw new Pe("No shape could be created for schema.",e);return n}function Ar(t,e){tr(t,e);const n=Te(t,!1,e);if(n.array||n.union){const r=n.array||[],s=n.union||[];return r.concat(s).reduce((a,o)=>{const u=Ar(o,e);return u&&(a={...a??{},...u}),a},r.length?{}:void 0)}if(n.properties){const r={};for(const[s,a]of Object.entries(n.properties)){const o=Ar(a,[...e,s]);o&&(r[s]=o)}return r}return n.types.includes("array")||n.types.includes("object")?{}:void 0}function Sr(t){let e={};const n=Array.isArray(t);for(const[r,s]of Object.entries(t))!s||typeof s!="object"||(n?e={...e,...Sr(s)}:e[r]=Sr(s));return e}const qt=new WeakMap,Qe=new WeakMap,vn=t=>{throw t.result.error},Aa={applyAction:!0,invalidateAll:!0,resetForm:!0,autoFocusOnError:"detect",scrollToError:"smooth",errorSelector:'[aria-invalid="true"],[data-invalid]',selectErrorText:!1,stickyNavbar:void 0,taintedMessage:!1,onSubmit:void 0,onResult:void 0,onUpdate:void 0,onUpdated:void 0,onError:vn,dataType:"form",validators:void 0,customValidity:!1,clearOnSubmit:"message",delayMs:500,timeoutMs:8e3,multipleSubmits:"prevent",SPA:void 0,validationMethod:"auto"};function Sa(t){return`Duplicate form id's found: "${t}". Multiple forms will receive the same data. Use the id option to differentiate between them, or if this is intended, set the warnings.duplicateId option to false in superForm to disable this warning. More information: https://superforms.rocks/concepts/multiple-forms`}let _n=!1;try{SUPERFORMS_LEGACY&&(_n=!0)}catch{}let et=!1;try{globalThis.STORIES&&(et=!0)}catch{}function Xs(t,e){var Rr;let n,r=e??{},s;{if((r.legacy??_n)&&(r.resetForm===void 0&&(r.resetForm=!1),r.taintedMessage===void 0&&(r.taintedMessage=!0)),et&&r.applyAction===void 0&&(r.applyAction=!1),typeof r.SPA=="string"&&(r.invalidateAll===void 0&&(r.invalidateAll=!1),r.applyAction===void 0&&(r.applyAction=!1)),s=r.validators,r={...Aa,...r},(r.SPA===!0||typeof r.SPA=="object")&&r.validators===void 0&&console.warn("No validators set for superForm in SPA mode. Add a validation adapter to the validators option, or set it to false to disable this warning."),!t)throw new B("No form data sent to superForm. Make sure the output from superValidate is used (usually data.form) and that it's not null or undefined. Alternatively, an object with default values for the form can also be used, but then constraints won't be available.");c(t)===!1&&(t={id:r.id??Math.random().toString(36).slice(2,10),valid:!1,posted:!1,errors:{},data:t,shape:Sr(t)}),t=t;const i=t.id=r.id??t.id,l=$e(ft)??(et?{}:void 0);if(((Rr=r.warnings)==null?void 0:Rr.duplicateId)!==!1)if(!qt.has(l))qt.set(l,new Set([i]));else{const m=qt.get(l);m!=null&&m.has(i)?console.warn(Sa(i)):m==null||m.add(i)}if(Qe.has(t)||Qe.set(t,t),n=Qe.get(t),t=fe(n),Kt(()=>{var m;Dn(),xn(),Rn();for(const h of Object.values(ue))h.length=0;(m=qt.get(l))==null||m.delete(i)}),r.dataType!=="json"){const m=(h,y)=>{if(!(!y||typeof y!="object")){if(Array.isArray(y))y.length>0&&m(h,y[0]);else if(!(y instanceof Date)&&!(y instanceof File)&&!(y instanceof FileList))throw new B(`Object found in form field "${h}". Set the dataType option to "json" and add use:enhance to use nested data structures. More information: https://superforms.rocks/concepts/nested-data`)}};for(const[h,y]of Object.entries(t.data))m(h,y)}}const a={formId:t.id,form:fe(t.data),constraints:t.constraints??{},posted:t.posted,errors:fe(t.errors),message:fe(t.message),tainted:void 0,valid:t.valid,submitting:!1,shape:t.shape},o=a,u=be(r.id??t.id);function f(i){return Object.values(i).filter(m=>c(m)!==!1)}function c(i){return!i||typeof i!="object"||!("valid"in i&&"errors"in i&&typeof i.valid=="boolean")?!1:"id"in i&&typeof i.id=="string"?i.id:!1}const d=be(t.data),p={subscribe:d.subscribe,set:(i,l={})=>{const m=fe(i);return Ir(m,l.taint??!0),d.set(m)},update:(i,l={})=>d.update(m=>{const h=i(m);return Ir(h,l.taint??!0),h})};function g(){return r.SPA===!0||typeof r.SPA=="object"}function _(i){var l;return i>400?i:(typeof r.SPA=="boolean"||typeof r.SPA=="string"||(l=r.SPA)==null?void 0:l.failStatus)||i}async function w(i={}){const l=i.formData??o.form;let m={},h;const y=i.adapter??r.validators;if(typeof y=="object"){if(y!=s&&!("jsonSchema"in y))throw new B('Client validation adapter found in options.validators. A full adapter must be used when changing validators dynamically, for example "zod" instead of "zodClient".');if(h=await y.validate(l),!h.success)m=ca(h.issues,y.shape??o.shape??{});else if(i.recheckValidData!==!1)return w({...i,recheckValidData:!1})}else h={success:!0,data:{}};const P={...o.form,...l,...h.success?h.data:{}};return{valid:h.success,posted:!1,errors:m,data:P,constraints:o.constraints,message:void 0,id:o.formId,shape:o.shape}}function D(i){if(!r.onChange||!i.paths.length||i.type=="blur")return;let l;const m=i.paths.map(dt);i.type&&i.paths.length==1&&i.formElement&&i.target instanceof Element?l={path:m[0],paths:m,formElement:i.formElement,target:i.target,set(h,y,P){Bt({form:p},h,P).set(y)},get(h){return $e(Bt(p,h))}}:l={paths:m,target:void 0,set(h,y,P){Bt({form:p},h,P).set(y)},get(h){return $e(Bt(p,h))}},r.onChange(l)}async function v(i,l=!1,m){i&&(r.validators=="clear"&&se.update(P=>(Ae(P,i.paths,void 0),P)),setTimeout(()=>D(i)));let h=!1;if(l||(r.validationMethod=="onsubmit"||r.validationMethod=="submit-only"||r.validationMethod=="onblur"&&(i==null?void 0:i.type)=="input"||r.validationMethod=="oninput"&&(i==null?void 0:i.type)=="blur")&&(h=!0),h||!i||!r.validators||r.validators=="clear"){if(i!=null&&i.paths){const P=(i==null?void 0:i.formElement)??ct();P&&O(P)}return}const y=await w({adapter:m});return y.valid&&(i.immediate||i.type!="input")&&p.set(y.data,{taint:"ignore"}),await pr(),L(y.errors,i,l),y}function O(i){const l=new Map;if(r.customValidity&&i)for(const m of i.querySelectorAll("[name]")){if(typeof m.name!="string"||!m.name.length)continue;const h="validationMessage"in m?String(m.validationMessage):"";l.set(m.name,{el:m,message:h}),Xr(m,void 0)}return l}async function L(i,l,m){const{type:h,immediate:y,multiple:P,paths:le}=l,Ze=o.errors,qe={};let G=new Map;const K=l.formElement??ct();K&&(G=O(K)),Fe(i,R=>{if(!Array.isArray(R.value))return;const W=[...R.path];W[W.length-1]=="_errors"&&W.pop();const Xe=W.join(".");function ce(){if(Ae(qe,[R.path],R.value),r.customValidity&&He&&G.has(Xe)){const{el:te,message:Ke}=G.get(Xe);Ke!=R.value&&(setTimeout(()=>Xr(te,R.value)),G.clear())}}if(m)return ce();const Zt=R.path[R.path.length-1]=="_errors",He=R.value&&le.some(te=>Zt?W&&te&&W.length>0&&W[0]==te[0]:Xe==te.join("."));if(He&&r.validationMethod=="oninput"||y&&!P&&He)return ce();if(P){const te=Ve($e(se),R.path.slice(0,-1));if(te!=null&&te.value&&typeof(te==null?void 0:te.value)=="object"){for(const Ke of Object.values(te.value))if(Array.isArray(Ke))return ce()}}const ke=Ve(Ze,R.path);if(ke&&ke.key in ke.parent)return ce();if(Zt){if(r.validationMethod=="oninput"||h=="blur"&&Fn(dt(R.path.slice(0,-1))))return ce()}else if(h=="blur"&&He)return ce()}),se.set(qe)}function H(i,l={}){return l.keepFiles&&Fe(o.form,m=>{if(!(m.parent instanceof FileList)&&(m.value instanceof File||m.value instanceof FileList)){const h=Ve(i,m.path);(!h||!(h.key in h.parent))&&Ae(i,[m.path],m.value)}}),p.set(i,l)}function F(i,l){return i&&l&&r.resetForm&&(r.resetForm===!0||r.resetForm())}function Me(i=!0){let l=o.form,m=o.tainted;if(i){const h=Vn(o.form);l=h.data;const y=h.paths;y.length&&(m=fe(m)??{},Ae(m,y,!1))}return{valid:o.valid,posted:o.posted,errors:o.errors,data:l,constraints:o.constraints,message:o.message,id:o.formId,tainted:m,shape:o.shape}}async function ie(i,l){i.valid&&l&&F(i.valid,l)?ae({message:i.message,posted:!0}):Rt({form:i,untaint:l,keepFiles:!0,pessimisticUpdate:r.invalidateAll=="force"||r.invalidateAll=="pessimistic"}),ue.onUpdated.length&&await pr();for(const m of ue.onUpdated)m({form:i})}function ae(i={}){i.newState&&(n.data={...n.data,...i.newState});const l=fe(n);l.data={...l.data,...i.data},i.id!==void 0&&(l.id=i.id),Rt({form:l,untaint:!0,message:i.message,keepFiles:!1,posted:i.posted,resetted:!0})}async function Y(i){if(i.type=="error")throw new B(`ActionResult of type "${i.type}" cannot be passed to update function.`);if(i.type=="redirect"){F(!0,!0)&&ae({posted:!0});return}if(typeof i.data!="object")throw new B("Non-object validation data returned from ActionResult.");const l=f(i.data);if(!l.length)throw new B("No form data returned from ActionResult. Make sure you return { form } in the form actions.");for(const m of l)m.id===o.formId&&await ie(m,i.status>=200&&i.status<300)}const ee=be(a.message),Re=be(a.constraints),Be=be(a.posted),je=be(a.shape),Ye=be(t.errors),se={subscribe:Ye.subscribe,set(i,l){return Ye.set(Gr(i,o.errors,l==null?void 0:l.force))},update(i,l){return Ye.update(m=>Gr(i(m),o.errors,l==null?void 0:l.force))},clear:()=>se.set({})};let V=null;function On(i){var l;V&&i&&Object.keys(i).length==1&&((l=i.paths)!=null&&l.length)&&V.target&&V.target instanceof HTMLInputElement&&V.target.type.toLowerCase()=="file"?V.paths=i.paths:V=i,setTimeout(()=>{v(V)},0)}function Tn(i,l,m,h,y){V===null&&(V={paths:[]}),V.type=i,V.immediate=l,V.multiple=m,V.formElement=h,V.target=y}function Mr(){return(V==null?void 0:V.paths)??[]}function xn(){V=null}const X={defaultMessage:"Leave page? Changes that you made may not be saved.",state:be(),message:r.taintedMessage,clean:fe(t.data),forceRedirection:!1};function jr(){return r.taintedMessage&&!o.submitting&&!X.forceRedirection&&Fr()}function kr(i){if(!jr())return;i.preventDefault(),i.returnValue="";const{taintedMessage:l}=r,h=typeof l=="function"||l===!0?X.defaultMessage:l;return(i||window.event).returnValue=h||X.defaultMessage,h}async function Mn(i){if(!jr())return;const{taintedMessage:l}=r,m=typeof l=="function";if(m&&i.cancel(),i.type==="leave")return;const h=m||l===!0?X.defaultMessage:l;let y;try{y=m?await l():window.confirm(h||X.defaultMessage)}catch{y=!1}if(y&&i.to)try{X.forceRedirection=!0,await di(i.to.url,{...i.to.params});return}finally{X.forceRedirection=!1}else!y&&!m&&i.cancel()}function jn(){r.taintedMessage=X.message}function kn(){return X.state}function Fn(i){if(!o.tainted)return!1;if(!i)return!!o.tainted;const l=Ve(o.tainted,rt(i));return!!l&&l.key in l.parent}function Fr(i){if(!arguments.length)return Ct(o.tainted);if(typeof i=="boolean")return i;if(typeof i=="object")return Ct(i);if(!o.tainted||i===void 0)return!1;const l=Ve(o.tainted,rt(i));return Ct(l==null?void 0:l.value)}function Ct(i){if(!i)return!1;if(typeof i=="object"){for(const l of Object.values(i))if(Ct(l))return!0}return i===!0}function Ir(i,l){if(l=="ignore")return;const m=Jr(i,o.form),h=Jr(i,X.clean).map(y=>y.join());m.length&&(l=="untaint-all"||l=="untaint-form"?X.state.set(void 0):X.state.update(y=>(y||(y={}),Ae(y,m,(P,le)=>{if(!h.includes(P.join()))return;const Ze=xe(i,P),qe=xe(X.clean,P);return Ze&&qe&&Ze.value===qe.value?void 0:l===!0?!0:l==="untaint"?void 0:le.value}),y)),On({paths:m}))}function In(i,l){X.state.set(i),l&&(X.clean=l)}const nr=be(!1),Nr=be(!1),Dr=be(!1),Lr=[X.state.subscribe(i=>a.tainted=fe(i)),p.subscribe(i=>a.form=fe(i)),se.subscribe(i=>a.errors=fe(i)),u.subscribe(i=>a.formId=i),Re.subscribe(i=>a.constraints=i),Be.subscribe(i=>a.posted=i),ee.subscribe(i=>a.message=i),nr.subscribe(i=>a.submitting=i),je.subscribe(i=>a.shape=i)];function Nn(i){Lr.push(i)}function Dn(){Lr.forEach(i=>i())}let oe;function ct(){return oe}function Ln(i){oe=document.createElement("form"),oe.method="POST",oe.action=i,Cr(oe),document.body.appendChild(oe)}function Cn(i){oe&&(oe.action=i)}function Rn(){oe!=null&&oe.parentElement&&oe.remove(),oe=void 0}const Zn=Or(se,i=>i?fa(i):[]);r.taintedMessage=void 0;function Rt(i){const l=i.form,m=i.message??l.message;if((i.untaint||i.resetted)&&In(typeof i.untaint=="boolean"?void 0:i.untaint,l.data),i.pessimisticUpdate||H(l.data,{taint:"ignore",keepFiles:i.keepFiles}),ee.set(m),i.resetted?se.update(()=>({}),{force:!0}):se.set(l.errors),u.set(l.id),Be.set(i.posted??l.posted),l.constraints&&Re.set(l.constraints),l.shape&&je.set(l.shape),a.valid=l.valid,r.flashMessage&&vr(r)){const h=r.flashMessage.module.getFlash(ft);m&&$e(h)===void 0&&h.set(m)}}const ue={onSubmit:r.onSubmit?[r.onSubmit]:[],onResult:r.onResult?[r.onResult]:[],onUpdate:r.onUpdate?[r.onUpdate]:[],onUpdated:r.onUpdated?[r.onUpdated]:[],onError:r.onError?[r.onError]:[]};window.addEventListener("beforeunload",kr),Kt(()=>{window.removeEventListener("beforeunload",kr)}),fi(Mn),Nn(ft.subscribe(async i=>{et&&i===void 0&&(i={status:200});const l=i.status>=200&&i.status<300;if(r.applyAction&&i.form&&typeof i.form=="object"){const m=i.form;if(m.type==="error")return;for(const h of f(m)){const y=Qe.has(h);h.id!==o.formId||y||(Qe.set(h,h),await ie(h,l))}}else if(r.applyAction!=="never"&&i.data&&typeof i.data=="object")for(const m of f(i.data)){const h=Qe.has(m);if(m.id!==o.formId||h)continue;(r.invalidateAll==="force"||r.invalidateAll==="pessimistic")&&(n.data=m.data);const y=F(m.valid,!0);Rt({form:m,untaint:l,keepFiles:!y,resetted:y})}})),typeof r.SPA=="string"&&Ln(r.SPA);function Cr(i,l){if(r.SPA!==void 0&&i.method=="get"&&(i.method="post"),typeof r.SPA=="string"?r.SPA.length&&i.action==document.location.href&&(i.action=r.SPA):oe=i,l){if(l.onError){if(r.onError==="apply")throw new B('options.onError is set to "apply", cannot add any onError events.');if(l.onError==="apply")throw new B('Cannot add "apply" as onError event in use:enhance.');ue.onError.push(l.onError)}l.onResult&&ue.onResult.push(l.onResult),l.onSubmit&&ue.onSubmit.push(l.onSubmit),l.onUpdate&&ue.onUpdate.push(l.onUpdate),l.onUpdated&&ue.onUpdated.push(l.onUpdated)}jn();let m;async function h(G){const K=Qr(G.target);K.immediate&&!K.file&&await new Promise(R=>setTimeout(R,0)),m=Mr(),Tn("input",K.immediate,K.multiple,i,G.target??void 0)}async function y(G){if(o.submitting||!m||Mr()!=m)return;const K=Qr(G.target);K.immediate&&!K.file&&await new Promise(R=>setTimeout(R,0)),v({paths:m,immediate:K.multiple,multiple:K.multiple,type:"blur",formElement:i,target:G.target??void 0}),m=void 0}i.addEventListener("focusout",y),i.addEventListener("input",h),Kt(()=>{i.removeEventListener("focusout",y),i.removeEventListener("input",h)});const P=ba(i,{submitting:nr,delayed:Nr,timeout:Dr},r);let le,Ze;const qe=da(i,async G=>{let K,R=r.validators;const W={...G,jsonData(E){if(r.dataType!=="json")throw new B("options.dataType must be set to 'json' to use jsonData.");K=E},validators(E){R=E},customRequest(E){Ze=E}},Xe=W.cancel;let ce=!1;function ir(E){const S={...E,posted:!0},x=S.valid?200:_(400),J={form:S},z=S.valid?{type:"success",status:x,data:J}:{type:"failure",status:x,data:J};setTimeout(()=>Ke({result:z}),0)}function Zt(){switch(r.clearOnSubmit){case"errors-and-message":se.clear(),ee.set(void 0);break;case"errors":se.clear();break;case"message":ee.set(void 0);break}}async function He(E,S){var x;if(E.status=S,r.onError!=="apply"){const J={result:E,message:ee,form:t};for(const z of ue.onError)z!=="apply"&&(z!=vn||!((x=r.flashMessage)!=null&&x.onError))&&await z(J)}r.flashMessage&&r.flashMessage.onError&&await r.flashMessage.onError({result:E,flashMessage:r.flashMessage.module.getFlash(ft)}),r.applyAction&&(r.onError=="apply"?await Ht(E):await Ht({type:"failure",status:_(E.status),data:E}))}function ke(E={resetTimers:!0}){return ce=!0,E.resetTimers&&P.isSubmitting()&&P.completed({cancelled:ce}),Xe()}if(W.cancel=ke,P.isSubmitting()&&r.multipleSubmits=="prevent")ke({resetTimers:!1});else{P.isSubmitting()&&r.multipleSubmits=="abort"&&le&&le.abort(),P.submitting(),le=W.controller;for(const E of ue.onSubmit)try{await E(W)}catch(S){ke(),He({type:"error",error:S},500)}}if(ce&&r.flashMessage&&Yr(r),!ce){const E=!g()&&(i.noValidate||(W.submitter instanceof HTMLButtonElement||W.submitter instanceof HTMLInputElement)&&W.submitter.formNoValidate);let S;const x=async()=>await w({adapter:R});if(Zt(),E||(S=await x(),S.valid||(ke({resetTimers:!1}),ir(S))),!ce){r.flashMessage&&(r.clearOnSubmit=="errors-and-message"||r.clearOnSubmit=="message")&&vr(r)&&r.flashMessage.module.getFlash(ft).set(void 0);const J="formData"in W?W.formData:W.data;if(m=void 0,g())S||(S=await x()),ke({resetTimers:!1}),ir(S);else if(r.dataType==="json"){S||(S=await x());const z=fe(K??S.data);Fe(z,M=>{if(M.value instanceof File){const U="__superform_file_"+dt(M.path);return J.append(U,M.value),M.set(void 0)}else if(Array.isArray(M.value)&&M.value.length&&M.value.every(U=>U instanceof File)){const U="__superform_files_"+dt(M.path);for(const me of M.value)J.append(U,me);return M.set(void 0)}}),Object.keys(z).forEach(M=>{typeof J.get(M)=="string"&&J.delete(M)});const We=r.transport?Object.fromEntries(Object.entries(r.transport).map(([M,U])=>[M,U.encode])):void 0,Vt=te(_i(z,We),r.jsonChunkSize??5e5);for(const M of Vt)J.append("__superform_json",M)}if(!J.has("__superform_id")){const z=o.formId;z!==void 0&&J.set("__superform_id",z)}typeof r.SPA=="string"&&Cn(r.SPA)}}function te(E,S){const x=Math.ceil(E.length/S),J=new Array(x);for(let z=0,We=0;z<x;++z,We+=S)J[z]=E.substring(We,We+S);return J}async function Ke(E){let S=!1;le=null;let x="type"in E.result&&"status"in E.result?E.result:{type:"error",status:_(parseInt(String(E.result.status))||500),error:E.result.error instanceof Error?E.result.error:E.result};const J=()=>S=!0,z={result:x,formEl:i,formElement:i,cancel:J},We=et||!g()?()=>{}:Wr.subscribe(M=>{var U,me;!M||((U=M.from)==null?void 0:U.route.id)===((me=M.to)==null?void 0:me.route.id)||J()});function Vt(M,U,me){U.result={type:"error",error:M,status:_(me)}}for(const M of ue.onResult)try{await M(z)}catch(U){Vt(U,z,Math.max(x.status??500,400))}if(x=z.result,!S){if((x.type==="success"||x.type==="failure")&&x.data){const M=f(x.data);if(!M.length)throw new B("No form data returned from ActionResult. Make sure you return { form } in the form actions.");for(const U of M){if(U.id!==o.formId)continue;const me={form:U,formEl:i,formElement:i,cancel:()=>S=!0,result:x};for(const ar of ue.onUpdate)try{await ar(me)}catch(zn){Vt(zn,me,Math.max(x.status??500,400))}x=me.result,S||(r.customValidity&&ma(i,me.form.errors),F(me.form.valid,x.type=="success")&&me.formElement.querySelectorAll('input[type="file"]').forEach(ar=>ar.value=""))}}S||(x.type!=="error"?(x.type==="success"&&r.invalidateAll&&await fn(),r.applyAction?await Ht(x):await Y(x)):await He(x,Math.max(x.status??500,400)))}if(S&&r.flashMessage&&Yr(r),S||x.type!="redirect")P.completed({cancelled:S});else if(et)P.completed({cancelled:S,clearAll:!0});else{const M=Wr.subscribe(U=>{U||(setTimeout(()=>{try{M&&M()}catch{}}),P.isSubmitting()&&P.completed({cancelled:S,clearAll:!0}))})}We()}if(!ce&&Ze){Xe();const E=await Ze(G);let S;E instanceof Response?S=_r(await E.text()):E instanceof XMLHttpRequest?S=_r(E.responseText):S=E,S.type==="error"&&(S.status=E.status),Ke({result:S})}return Ke});return{destroy:()=>{for(const[G,K]of Object.entries(ue))ue[G]=K.filter(R=>R===r[G]);qe.destroy()}}}function Vn(i){const l=[];if(Fe(i,h=>{if(h.value instanceof File)return l.push(h.path),"skip";if(Array.isArray(h.value)&&h.value.length&&h.value.every(y=>y instanceof File))return l.push(h.path),"skip"}),!l.length)return{data:i,paths:l};const m=fe(i);return Ae(m,l,h=>{var y;return(y=Ve(n.data,h))==null?void 0:y.value}),{data:m,paths:l}}return{form:p,formId:u,errors:se,message:ee,constraints:Re,tainted:kn(),submitting:sr(nr),delayed:sr(Nr),timeout:sr(Dr),options:r,capture:Me,restore:i=>{Rt({form:i,untaint:i.tainted??!0})},async validate(i,l={}){if(!r.validators)throw new B("options.validators must be set to use the validate method.");l.update===void 0&&(l.update=!0),l.taint===void 0&&(l.taint=!1),typeof l.errors=="string"&&(l.errors=[l.errors]);let m;const h=rt(i);"value"in l?l.update===!0||l.update==="value"?(p.update(le=>(Ae(le,[h],l.value),le),{taint:l.taint}),m=o.form):(m=fe(o.form),Ae(m,[h],l.value)):m=o.form;const y=await w({formData:m}),P=Ve(y.errors,h);return P&&P.value&&l.errors&&(P.value=l.errors),(l.update===!0||l.update=="errors")&&se.update(le=>(Ae(le,[h],P==null?void 0:P.value),le)),P==null?void 0:P.value},async validateForm(i={}){if(!r.validators&&!i.schema)throw new B("options.validators or the schema option must be set to use the validateForm method.");const l=i.update?await v({paths:[]},!0,i.schema):w({adapter:i.schema}),m=ct();return i.update&&m&&setTimeout(()=>{m&&wr(m,{...r,scrollToError:i.focusOnError===!1?"off":r.scrollToError})},1),l||w({adapter:i.schema})},allErrors:Zn,posted:Be,reset(i){return ae({message:i!=null&&i.keepMessage?o.message:void 0,data:i==null?void 0:i.data,id:i==null?void 0:i.id,newState:i==null?void 0:i.newState})},submit(i){const l=ct()?ct():i&&i instanceof HTMLElement?i.closest("form"):void 0;if(!l)throw new B("use:enhance must be added to the form to use submit, or pass a HTMLElement inside the form (or the form itself) as an argument.");if(!l.requestSubmit)return l.submit();const m=i&&(i instanceof HTMLButtonElement&&i.type=="submit"||i instanceof HTMLInputElement&&["submit","image"].includes(i.type));l.requestSubmit(m?i:void 0)},isTainted:Fr,enhance:Cr}}function Qs(t,e,n){t&&"superFormValidationLibrary"in t&&(n=e,e=t,t=null);const r=e,s=(n==null?void 0:n.defaults)??r.defaults;return{id:(n==null?void 0:n.id)??r.id??"",valid:!1,posted:!1,errors:{},data:{...s,...t},constraints:r.constraints,shape:r.shape}}new TextEncoder;function Pa(t){return Wt(Te(t,!1,[]),[])}function fr(...t){const e=t.filter(n=>!!n);if(e.length)return e.length==1?e[0]:pe(...e)}function Wt(t,e){var r;if(!t)return;let n;if(t.union&&t.union.length){const s=t.union.map(o=>Te(o,t.isOptional,e)),a=s.map(o=>Wt(o,e));n=fr(n,...a),n&&(t.isNullable||t.isOptional||s.some(o=>(o==null?void 0:o.isNullable)||(o==null?void 0:o.isOptional)))&&delete n.required}if(t.array&&(n=fr(n,...t.array.map(s=>Wt(Te(s,t.isOptional,e),e)))),t.properties){const s={};for(const[a,o]of Object.entries(t.properties)){const u=Te(o,!((r=t.required)!=null&&r.includes(a))||o.default!==void 0,[a]),f=Wt(u,[...e,a]);typeof f=="object"&&Object.values(f).length>0&&(s[a]=f)}n=fr(n,s)}return n??Ea(t)}function Ea(t){const e={},n=t.schema,r=n.type,s=n.format;if(r=="integer"&&s=="unix-time"){const a=n;a.minimum!==void 0&&(e.min=new Date(a.minimum).toISOString()),a.maximum!==void 0&&(e.max=new Date(a.maximum).toISOString())}else if(r=="string"){const a=n,o=[a.pattern,...a.allOf?a.allOf.map(u=>typeof u=="boolean"?void 0:u.pattern):[]].filter(u=>u!==void 0);o.length>0&&(e.pattern=o[0]),a.minLength!==void 0&&(e.minlength=a.minLength),a.maxLength!==void 0&&(e.maxlength=a.maxLength)}else if(r=="number"||r=="integer"){const a=n;a.minimum!==void 0?e.min=a.minimum:a.exclusiveMinimum!==void 0&&(e.min=a.exclusiveMinimum+(r=="integer"?1:Number.MIN_VALUE)),a.maximum!==void 0?e.max=a.maximum:a.exclusiveMaximum!==void 0&&(e.max=a.exclusiveMaximum-(r=="integer"?1:Number.MIN_VALUE)),a.multipleOf!==void 0&&(e.step=a.multipleOf)}else if(r=="array"){const a=n;a.minItems!==void 0&&(e.min=a.minItems),a.maxItems!==void 0&&(e.max=a.maxItems)}return!t.isNullable&&!t.isOptional&&(e.required=!0),Object.keys(e).length>0?e:void 0}function Oa(t){return Ta(Pr(Te(t,!1,[]),0,[]))}function Pr(t,e,n){var o;if(!t)return"";function r(){return"  ".repeat(e)}function s(u){return u.map(f=>Pr(Te(f,(t==null?void 0:t.isOptional)??!1,n),e+1,n)).filter(f=>f).join("|")}function a(){const u=[];return t!=null&&t.isNullable&&u.push("null"),t!=null&&t.isOptional&&u.push("undefined"),u.length?"|"+u.join("|"):""}if(t.union)return`Union {
  `+r()+s(t.union)+`
`+r()+"}"+a();if(t.properties){const u=[];for(const[f,c]of Object.entries(t.properties)){const d=Te(c,!((o=t.required)!=null&&o.includes(f))||c.default!==void 0,[f]);u.push(f+": "+Pr(d,e+1,n))}return`Object {
  `+r()+u.join(`,
  `)+`
`+r()+"}"+a()}return t.array?"Array["+s(t.array)+"]"+a():t.types.join("|")+a()}function Ta(t){let e=0;for(let n=0,r=t.length;n<r;n++){const s=t.charCodeAt(n);e=(e<<5)-e+s,e|=0}return e<0&&(e=e>>>0),e.toString(36)}function xa(t,e){if(!t||!("superFormValidationLibrary"in t))throw new B('Superforms v2 requires a validation adapter for the schema. Import one of your choice from "sveltekit-superforms/adapters" and wrap the schema with it.');return e||(e=t.jsonSchema),{...t,constraints:t.constraints??Pa(e),defaults:t.defaults??oa(e),shape:wa(e),id:Oa(e)}}let Ma=!1;try{SUPERFORMS_LEGACY&&(Ma=!0)}catch{}function rr(t){return typeof t!="object"&&typeof t!="function"||t===null}function Ue(){this.childBranches=new WeakMap,this.primitiveKeys=new Map,this.hasValue=!1,this.value=void 0}Ue.prototype.has=function(e){var n=rr(e)?this.primitiveKeys.get(e):e;return n?this.childBranches.has(n):!1};Ue.prototype.get=function(e){var n=rr(e)?this.primitiveKeys.get(e):e;return n?this.childBranches.get(n):void 0};Ue.prototype.resolveBranch=function(e){if(this.has(e))return this.get(e);var n=new Ue,r=this.createKey(e);return this.childBranches.set(r,n),n};Ue.prototype.setValue=function(e){return this.hasValue=!0,this.value=e};Ue.prototype.createKey=function(e){if(rr(e)){var n={};return this.primitiveKeys.set(e,n),n}return e};Ue.prototype.clear=function(){if(arguments.length===0)this.childBranches=new WeakMap,this.primitiveKeys.clear(),this.hasValue=!1,this.value=void 0;else if(arguments.length===1){var e=arguments[0];if(rr(e)){var n=this.primitiveKeys.get(e);n&&(this.childBranches.delete(n),this.primitiveKeys.delete(e))}else this.childBranches.delete(e)}else{var r=arguments[0];if(this.has(r)){var s=this.get(r);s.clear.apply(s,Array.prototype.slice.call(arguments,1))}}};var ja=function(e){var n=new Ue;function r(){var s=Array.prototype.slice.call(arguments),a=s.reduce(function(f,c){return f.resolveBranch(c)},n);if(a.hasValue)return a.value;var o=e.apply(null,s);return a.setValue(o)}return r.clear=n.clear.bind(n),r},ka=ja;const Fa=$n(ka),Ia=Fa,Na=Symbol("Let zodToJsonSchema decide on which parser to use"),$r={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},Da=t=>typeof t=="string"?{...$r,name:t}:{...$r,...t},La=t=>{const e=Da(t),n=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([r,s])=>[s._def,{def:s._def,path:[...e.basePath,e.definitionPath,r],jsonSchema:void 0}]))}};function wn(t,e,n,r){r!=null&&r.errorMessages&&n&&(t.errorMessage={...t.errorMessage,[e]:n})}function N(t,e,n,r,s){t[e]=n,wn(t,e,r,s)}function Ca(){return{}}function Ra(t,e){var r,s,a;const n={type:"array"};return(r=t.type)!=null&&r._def&&((a=(s=t.type)==null?void 0:s._def)==null?void 0:a.typeName)!==A.ZodAny&&(n.items=j(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&N(n,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&N(n,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&(N(n,"minItems",t.exactLength.value,t.exactLength.message,e),N(n,"maxItems",t.exactLength.value,t.exactLength.message,e)),n}function Za(t,e){const n={type:"integer",format:"int64"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"min":e.target==="jsonSchema7"?r.inclusive?N(n,"minimum",r.value,r.message,e):N(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),N(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?N(n,"maximum",r.value,r.message,e):N(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),N(n,"maximum",r.value,r.message,e));break;case"multipleOf":N(n,"multipleOf",r.value,r.message,e);break}return n}function Va(){return{type:"boolean"}}function An(t,e){return j(t.type._def,e)}const za=(t,e)=>j(t.innerType._def,e);function Sn(t,e,n){const r=n??e.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((s,a)=>Sn(t,e,s))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return Ua(t,e)}}const Ua=(t,e)=>{const n={type:"integer",format:"unix-time"};if(e.target==="openApi3")return n;for(const r of t.checks)switch(r.kind){case"min":N(n,"minimum",r.value,r.message,e);break;case"max":N(n,"maximum",r.value,r.message,e);break}return n};function Ba(t,e){return{...j(t.innerType._def,e),default:t.defaultValue()}}function qa(t,e){return e.effectStrategy==="input"?j(t.schema._def,e):{}}function Ha(t){return{type:"string",enum:Array.from(t.values)}}const Ka=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function Wa(t,e){const n=[j(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),j(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(a=>!!a);let r=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const s=[];return n.forEach(a=>{if(Ka(a))s.push(...a.allOf),a.unevaluatedProperties===void 0&&(r=void 0);else{let o=a;if("additionalProperties"in a&&a.additionalProperties===!1){const{additionalProperties:u,...f}=a;o=f}else r=void 0;s.push(o)}}),s.length?{allOf:s,...r}:void 0}function Ja(t,e){const n=typeof t.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[t.value]}:{type:n==="bigint"?"integer":n,const:t.value}}let dr;const ve={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(dr===void 0&&(dr=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),dr),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function Pn(t,e){const n={type:"string"};if(t.checks)for(const r of t.checks)switch(r.kind){case"min":N(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,e);break;case"max":N(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,e);break;case"email":switch(e.emailStrategy){case"format:email":_e(n,"email",r.message,e);break;case"format:idn-email":_e(n,"idn-email",r.message,e);break;case"pattern:zod":ne(n,ve.email,r.message,e);break}break;case"url":_e(n,"uri",r.message,e);break;case"uuid":_e(n,"uuid",r.message,e);break;case"regex":ne(n,r.regex,r.message,e);break;case"cuid":ne(n,ve.cuid,r.message,e);break;case"cuid2":ne(n,ve.cuid2,r.message,e);break;case"startsWith":ne(n,RegExp(`^${mr(r.value,e)}`),r.message,e);break;case"endsWith":ne(n,RegExp(`${mr(r.value,e)}$`),r.message,e);break;case"datetime":_e(n,"date-time",r.message,e);break;case"date":_e(n,"date",r.message,e);break;case"time":_e(n,"time",r.message,e);break;case"duration":_e(n,"duration",r.message,e);break;case"length":N(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,e),N(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,e);break;case"includes":{ne(n,RegExp(mr(r.value,e)),r.message,e);break}case"ip":{r.version!=="v6"&&_e(n,"ipv4",r.message,e),r.version!=="v4"&&_e(n,"ipv6",r.message,e);break}case"base64url":ne(n,ve.base64url,r.message,e);break;case"jwt":ne(n,ve.jwt,r.message,e);break;case"cidr":{r.version!=="v6"&&ne(n,ve.ipv4Cidr,r.message,e),r.version!=="v4"&&ne(n,ve.ipv6Cidr,r.message,e);break}case"emoji":ne(n,ve.emoji(),r.message,e);break;case"ulid":{ne(n,ve.ulid,r.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{_e(n,"binary",r.message,e);break}case"contentEncoding:base64":{N(n,"contentEncoding","base64",r.message,e);break}case"pattern:zod":{ne(n,ve.base64,r.message,e);break}}break}case"nanoid":ne(n,ve.nanoid,r.message,e)}return n}function mr(t,e){return e.patternStrategy==="escape"?Ya(t):t}const Ga=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function Ya(t){let e="";for(let n=0;n<t.length;n++)Ga.has(t[n])||(e+="\\"),e+=t[n];return e}function _e(t,e,n,r){var s;t.format||(s=t.anyOf)!=null&&s.some(a=>a.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&r.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...n&&r.errorMessages&&{errorMessage:{format:n}}})):N(t,"format",e,n,r)}function ne(t,e,n,r){var s;t.pattern||(s=t.allOf)!=null&&s.some(a=>a.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&r.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:en(e,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):N(t,"pattern",en(e,r),n,r)}function en(t,e){var f;if(!e.applyRegexFlags||!t.flags)return t.source;const n={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},r=n.i?t.source.toLowerCase():t.source;let s="",a=!1,o=!1,u=!1;for(let c=0;c<r.length;c++){if(a){s+=r[c],a=!1;continue}if(n.i){if(o){if(r[c].match(/[a-z]/)){u?(s+=r[c],s+=`${r[c-2]}-${r[c]}`.toUpperCase(),u=!1):r[c+1]==="-"&&((f=r[c+2])!=null&&f.match(/[a-z]/))?(s+=r[c],u=!0):s+=`${r[c]}${r[c].toUpperCase()}`;continue}}else if(r[c].match(/[a-z]/)){s+=`[${r[c]}${r[c].toUpperCase()}]`;continue}}if(n.m){if(r[c]==="^"){s+=`(^|(?<=[\r
]))`;continue}else if(r[c]==="$"){s+=`($|(?=[\r
]))`;continue}}if(n.s&&r[c]==="."){s+=o?`${r[c]}\r
`:`[${r[c]}\r
]`;continue}s+=r[c],r[c]==="\\"?a=!0:o&&r[c]==="]"?o=!1:!o&&r[c]==="["&&(o=!0)}try{new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return s}function En(t,e){var r,s,a,o,u,f;if(e.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&((r=t.keyType)==null?void 0:r._def.typeName)===A.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((c,d)=>({...c,[d]:j(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",d]})??{}}),{}),additionalProperties:e.rejectedAdditionalProperties};const n={type:"object",additionalProperties:j(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??e.allowedAdditionalProperties};if(e.target==="openApi3")return n;if(((s=t.keyType)==null?void 0:s._def.typeName)===A.ZodString&&((a=t.keyType._def.checks)!=null&&a.length)){const{type:c,...d}=Pn(t.keyType._def,e);return{...n,propertyNames:d}}else{if(((o=t.keyType)==null?void 0:o._def.typeName)===A.ZodEnum)return{...n,propertyNames:{enum:t.keyType._def.values}};if(((u=t.keyType)==null?void 0:u._def.typeName)===A.ZodBranded&&t.keyType._def.type._def.typeName===A.ZodString&&((f=t.keyType._def.type._def.checks)!=null&&f.length)){const{type:c,...d}=An(t.keyType._def,e);return{...n,propertyNames:d}}}return n}function Xa(t,e){if(e.mapStrategy==="record")return En(t,e);const n=j(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},r=j(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function Qa(t){const e=t.values,r=Object.keys(t.values).filter(a=>typeof e[e[a]]!="number").map(a=>e[a]),s=Array.from(new Set(r.map(a=>typeof a)));return{type:s.length===1?s[0]==="string"?"string":"number":["string","number"],enum:r}}function $a(){return{not:{}}}function es(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const Xt={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function ts(t,e){if(e.target==="openApi3")return tn(t,e);const n=t.options instanceof Map?Array.from(t.options.values()):t.options;if(n.every(r=>r._def.typeName in Xt&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((s,a)=>{const o=Xt[a._def.typeName];return o&&!s.includes(o)?[...s,o]:s},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((s,a)=>{const o=typeof a._def.value;switch(o){case"string":case"number":case"boolean":return[...s,o];case"bigint":return[...s,"integer"];case"object":if(a._def.value===null)return[...s,"null"];case"symbol":case"undefined":case"function":default:return s}},[]);if(r.length===n.length){const s=r.filter((a,o,u)=>u.indexOf(a)===o);return{type:s.length>1?s:s[0],enum:n.reduce((a,o)=>a.includes(o._def.value)?a:[...a,o._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,s)=>[...r,...s._def.values.filter(a=>!r.includes(a))],[])};return tn(t,e)}const tn=(t,e)=>{const n=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((r,s)=>j(r._def,{...e,currentPath:[...e.currentPath,"anyOf",`${s}`]})).filter(r=>!!r&&(!e.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function rs(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"?{type:Xt[t.innerType._def.typeName],nullable:!0}:{type:[Xt[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const r=j(t.innerType._def,{...e,currentPath:[...e.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const n=j(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function ns(t,e){const n={type:"number"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"int":n.type="integer",wn(n,"type",r.message,e);break;case"min":e.target==="jsonSchema7"?r.inclusive?N(n,"minimum",r.value,r.message,e):N(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),N(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?N(n,"maximum",r.value,r.message,e):N(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),N(n,"maximum",r.value,r.message,e));break;case"multipleOf":N(n,"multipleOf",r.value,r.message,e);break}return n}function is(t,e){const n=e.target==="openAi",r={type:"object",properties:{}},s=[],a=t.shape();for(const u in a){let f=a[u];if(f===void 0||f._def===void 0)continue;let c=ss(f);c&&n&&(f instanceof mi&&(f=f._def.innerType),f.isNullable()||(f=f.nullable()),c=!1);const d=j(f._def,{...e,currentPath:[...e.currentPath,"properties",u],propertyPath:[...e.currentPath,"properties",u]});d!==void 0&&(r.properties[u]=d,c||s.push(u))}s.length&&(r.required=s);const o=as(t,e);return o!==void 0&&(r.additionalProperties=o),r}function as(t,e){if(t.catchall._def.typeName!=="ZodNever")return j(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]});switch(t.unknownKeys){case"passthrough":return e.allowedAdditionalProperties;case"strict":return e.rejectedAdditionalProperties;case"strip":return e.removeAdditionalStrategy==="strict"?e.allowedAdditionalProperties:e.rejectedAdditionalProperties}}function ss(t){try{return t.isOptional()}catch{return!0}}const os=(t,e)=>{var r;if(e.currentPath.toString()===((r=e.propertyPath)==null?void 0:r.toString()))return j(t.innerType._def,e);const n=j(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return n?{anyOf:[{not:{}},n]}:{}},us=(t,e)=>{if(e.pipeStrategy==="input")return j(t.in._def,e);if(e.pipeStrategy==="output")return j(t.out._def,e);const n=j(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),r=j(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(s=>s!==void 0)}};function ls(t,e){return j(t.type._def,e)}function cs(t,e){const r={type:"array",uniqueItems:!0,items:j(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&N(r,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&N(r,"maxItems",t.maxSize.value,t.maxSize.message,e),r}function fs(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((n,r)=>j(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:j(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((n,r)=>j(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function ds(){return{not:{}}}function ms(){return{}}const ps=(t,e)=>j(t.innerType._def,e),hs=(t,e,n)=>{switch(e){case A.ZodString:return Pn(t,n);case A.ZodNumber:return ns(t,n);case A.ZodObject:return is(t,n);case A.ZodBigInt:return Za(t,n);case A.ZodBoolean:return Va();case A.ZodDate:return Sn(t,n);case A.ZodUndefined:return ds();case A.ZodNull:return es(n);case A.ZodArray:return Ra(t,n);case A.ZodUnion:case A.ZodDiscriminatedUnion:return ts(t,n);case A.ZodIntersection:return Wa(t,n);case A.ZodTuple:return fs(t,n);case A.ZodRecord:return En(t,n);case A.ZodLiteral:return Ja(t,n);case A.ZodEnum:return Ha(t);case A.ZodNativeEnum:return Qa(t);case A.ZodNullable:return rs(t,n);case A.ZodOptional:return os(t,n);case A.ZodMap:return Xa(t,n);case A.ZodSet:return cs(t,n);case A.ZodLazy:return()=>t.getter()._def;case A.ZodPromise:return ls(t,n);case A.ZodNaN:case A.ZodNever:return $a();case A.ZodEffects:return qa(t,n);case A.ZodAny:return Ca();case A.ZodUnknown:return ms();case A.ZodDefault:return Ba(t,n);case A.ZodBranded:return An(t,n);case A.ZodReadonly:return ps(t,n);case A.ZodCatch:return za(t,n);case A.ZodPipeline:return us(t,n);case A.ZodFunction:case A.ZodVoid:case A.ZodSymbol:return;default:return(r=>{})()}};function j(t,e,n=!1){var u;const r=e.seen.get(t);if(e.override){const f=(u=e.override)==null?void 0:u.call(e,t,e,r,n);if(f!==Na)return f}if(r&&!n){const f=ys(r,e);if(f!==void 0)return f}const s={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,s);const a=hs(t,t.typeName,e),o=typeof a=="function"?j(a(),e):a;if(o&&bs(t,e,o),e.postProcess){const f=e.postProcess(o,t,e);return s.jsonSchema=o,f}return s.jsonSchema=o,o}const ys=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:gs(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((n,r)=>e.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},gs=(t,e)=>{let n=0;for(;n<t.length&&n<e.length&&t[n]===e[n];n++);return[(t.length-n).toString(),...e.slice(n)].join("/")},bs=(t,e,n)=>(t.description&&(n.description=t.description,e.markdownDescription&&(n.markdownDescription=t.description)),n),vs=(t,e)=>{const n=La(e),r=typeof e=="object"&&e.definitions?Object.entries(e.definitions).reduce((f,[c,d])=>({...f,[c]:j(d._def,{...n,currentPath:[...n.basePath,n.definitionPath,c]},!0)??{}}),{}):void 0,s=typeof e=="string"?e:(e==null?void 0:e.nameStrategy)==="title"||e==null?void 0:e.name,a=j(t._def,s===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,s]},!1)??{},o=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;o!==void 0&&(a.title=o);const u=s===void 0?r?{...a,[n.definitionPath]:r}:a:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,s].join("/"),[n.definitionPath]:{...r,[s]:a}};return n.target==="jsonSchema7"?u.$schema="http://json-schema.org/draft-07/schema#":(n.target==="jsonSchema2019-09"||n.target==="openAi")&&(u.$schema="https://json-schema.org/draft/2019-09/schema#"),n.target==="openAi"&&("anyOf"in u||"oneOf"in u||"allOf"in u||"type"in u&&Array.isArray(u.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),u},rn={dateStrategy:"integer",pipeStrategy:"output",$refStrategy:"none"},_s=(...t)=>(t[1]=typeof t[1]=="object"?{...rn,...t[1]}:rn,vs(...t));async function ws(t,e,n){const r=await t.safeParseAsync(e,{errorMap:n});return r.success?{data:r.data,success:!0}:{issues:r.error.issues.map(({message:s,path:a})=>({message:s,path:a})),success:!1}}function As(t,e){return xa({superFormValidationLibrary:"zod",validate:async n=>ws(t,n,e==null?void 0:e.errorMap),jsonSchema:(e==null?void 0:e.jsonSchema)??_s(t,e==null?void 0:e.config),defaults:e==null?void 0:e.defaults})}const $s=Ia(As);export{Ys as C,Js as F,qs as I,Ws as a,Gs as b,Ks as c,Qs as d,Bs as e,Hs as f,Xs as s,xr as u,$s as z};
