import{g as e,d as u,b as s}from"./BwwL9Z8J.js";import{h as g,i as m,A as F}from"./Bn6OaK2A.js";function A(n,r){let l=u(!1),i=u(!1),c=u(!1),f=u(null),a=u(null);function E(...t){o(),s(l,!0),n(...t).then(d=>{s(c,!0),s(f,d,!0),r!=null&&r.onSuccess&&r.onSuccess(e(f))}).catch(d=>{s(i,!0),s(a,h(d),!0),g(e(a)),r!=null&&r.onError&&r.onError(e(a))}).finally(()=>{s(l,!1)})}function o(){s(l,!1),s(i,!1),s(c,!1),s(f,null),s(a,null)}return{get isLoading(){return e(l)},get isSuccess(){return e(c)},get isError(){return e(i)},get result(){return e(f)},get errors(){return e(a)},get fieldErrors(){var t;return(t=e(a))==null?void 0:t.fieldErrors},get nonFieldErrors(){var t;return(t=e(a))==null?void 0:t.nonFieldErrors},get nonFormErrors(){var t;return(t=e(a))==null?void 0:t.nonFormErrors},execute:E,reset:o}}const h=n=>{var r;if(m(n)){const l=(r=n==null?void 0:n.response)==null?void 0:r.data;if(l&&"details"in l&&l.details)return l.details}return n instanceof F?n.details:{nonFormErrors:[n.message]}};export{A as c};
